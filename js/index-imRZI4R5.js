import{a as e1,R as t1,o as n1,u as i1,r as E,m as N,M as U,b as P,d as r1,c as l1,j as y,C as V,e as o1,L as s1,I as a1,E as u1}from"./index-K_mpPE8L.js";import{s as w,a as H,b as K,c as c1,B as m1}from"./index-UftbKCQl.js";/*!
 * sc2-bank-generator v.1.1.0
 *
 * Compiled from:
 *
 * sc2-bank-generator/src/components/maps/exodus-3/crypto.ts
 * sc2-bank-generator/src/components/maps/exodus-3/store.ts
 * sc2-bank-generator/src/components/maps/exodus-3/functions.ts
 * sc2-bank-generator/src/components/maps/exodus-3/index.tsx
 *
 * Сompiled on Mon, 15 Jan 2024 10:25:01 UTC
 */const q=16,A=new Uint8Array(q);let v=0;const k=new Uint8Array(4096),d=new Array(16),i=new Array(255),e=new Uint8Array(256),t=new Uint8Array(256),F=new Uint8Array(11),b1=`\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ`;function f1(n,r){return K(b1,w(n,r+1,r+1),!0)}function _1(n){return i[n]}const L="0123456789abcdef";function d1(n){const r=w(n,1,1),s=w(n,2,2),a=K(L,r,!1)-1,l=K(L,s,!1)-1;return a*16+l}function O(n){return d[n]}function J(n){let r="";return r+=O((n&240)>>4),r+=O(n&15),r}const X=4,M=4,B=10,o=[new Uint8Array(4),new Uint8Array(4),new Uint8Array(4),new Uint8Array(4)],p=new Uint8Array(256);function D(n){return e[n]}function p1(n){return t[n]}function v1(){let n,r,s,a;const l=new Uint16Array(4);for(n=0;n<M;n+=1)p[n*4+0]=A[n*4+0],p[n*4+1]=A[n*4+1],p[n*4+2]=A[n*4+2],p[n*4+3]=A[n*4+3];for(n=4;n<44;n+=1)s=(n-1)*4,l[0]=p[s+0],l[1]=p[s+1],l[2]=p[s+2],l[3]=p[s+3],n%4==0&&(a=l[0],l[0]=l[1],l[1]=l[2],l[2]=l[3],l[3]=a,l[0]=D(l[0]),l[1]=D(l[1]),l[2]=D(l[2]),l[3]=D(l[3]),l[0]=l[0]^F[n/M]),r=n-4,s=(n-M)*4,p[r+0]=p[s+0]^l[0],p[r+1]=p[s+1]^l[1],p[r+2]=p[s+2]^l[2],p[r+3]=p[s+3]^l[3]}function R(n){for(let r=0;r<4;r+=1)for(let s=0;s<4;s+=1)o[r][s]^=p[n*X*4+r*X+s]}function G(){for(let n=0;n<4;n+=1)for(let r=0;r<4;r+=1)o[r][n]=D(o[r][n])}function W(){let n;n=o[0][1],o[0][1]=o[1][1],o[1][1]=o[2][1],o[2][1]=o[3][1],o[3][1]=n,n=o[0][2],o[0][2]=o[2][2],o[2][2]=n,n=o[1][2],o[1][2]=o[3][2],o[3][2]=n,n=o[0][3],o[0][3]=o[3][3],o[3][3]=o[2][3],o[2][3]=o[1][3],o[1][3]=n}function C(n){let r=1,s=27,a=n>>7&r;return a*=s,a^=n<<1,a}function u(n,r){let s=0,a=1;return s+=(r&a)*n^(r>>1&a)*C(n)^(r>>2&a)*C(C(n))^(r>>3&a)*C(C(C(n)))^(r>>4&a)*C(C(C(C(n)))),s}function h1(){let n,r,s,a;for(let l=0;l<4;l+=1)n=o[l][0],r=o[l][1],s=o[l][2],a=o[l][3],o[l][0]=u(n,2)^u(r,3)^u(s,1)^u(a,1),o[l][1]=u(n,1)^u(r,2)^u(s,3)^u(a,1),o[l][2]=u(n,1)^u(r,1)^u(s,2)^u(a,3),o[l][3]=u(n,3)^u(r,1)^u(s,1)^u(a,2)}function y1(){let n,r,s,a;for(let l=0;l<4;l+=1)n=o[l][0],r=o[l][1],s=o[l][2],a=o[l][3],o[l][0]=u(n,14)^u(r,11)^u(s,13)^u(a,9),o[l][1]=u(n,9)^u(r,14)^u(s,11)^u(a,13),o[l][2]=u(n,13)^u(r,9)^u(s,14)^u(a,11),o[l][3]=u(n,11)^u(r,13)^u(s,9)^u(a,14)}function Y(){for(let n=0;n<4;n+=1)for(let r=0;r<4;r+=1)o[r][n]=p1(o[r][n])}function Z(){let n;n=o[3][1],o[3][1]=o[2][1],o[2][1]=o[1][1],o[1][1]=o[0][1],o[0][1]=n,n=o[0][2],o[0][2]=o[2][2],o[2][2]=n,n=o[1][2],o[1][2]=o[3][2],o[3][2]=n,n=o[0][3],o[0][3]=o[1][3],o[1][3]=o[2][3],o[2][3]=o[3][3],o[3][3]=n}function x1(){R(0);for(let n=1;n<B;n+=1)G(),W(),h1(),R(n);G(),W(),R(B)}function g1(){R(B);for(let n=B-1;n>0;n-=1)Z(),Y(),R(n),y1();Z(),Y(),R(0)}function E1(){let n="";for(let r=0;r<q;r+=1)n+=J(A[r])}function F1(){I1(),w1(),A1(),k1(),S1(),C1()}function C1(){for(let n=0;n<16;n+=1)A[n]=1+n*16;v1(),E1()}function I1(){d[0]="0",d[1]="1",d[2]="2",d[3]="3",d[4]="4",d[5]="5",d[6]="6",d[7]="7",d[8]="8",d[9]="9",d[10]="a",d[11]="b",d[12]="c",d[13]="d",d[14]="e",d[15]="f"}function S1(){i[32]=" ",i[33]="!",i[34]='"',i[35]="#",i[36]="$",i[37]="%",i[38]="&",i[39]="'",i[40]="(",i[41]=")",i[42]="*",i[43]="+",i[44]=",",i[45]="-",i[46]=".",i[47]="/",i[48]="0",i[49]="1",i[50]="2",i[51]="3",i[52]="4",i[53]="5",i[54]="6",i[55]="7",i[56]="8",i[57]="9",i[58]=":",i[59]=";",i[60]="<",i[61]="=",i[62]=">",i[63]="?",i[64]="@",i[65]="A",i[66]="B",i[67]="C",i[68]="D",i[69]="E",i[70]="F",i[71]="G",i[72]="H",i[73]="I",i[74]="J",i[75]="K",i[76]="L",i[77]="M",i[78]="N",i[79]="O",i[80]="P",i[81]="Q",i[82]="R",i[83]="S",i[84]="T",i[85]="U",i[86]="V",i[87]="W",i[88]="X",i[89]="Y",i[90]="Z",i[91]="[",i[92]="\\",i[93]="]",i[94]="^",i[95]="_",i[96]="`",i[97]="a",i[98]="b",i[99]="c",i[100]="d",i[101]="e",i[102]="f",i[103]="g",i[104]="h",i[105]="i",i[106]="j",i[107]="k",i[108]="l",i[109]="m",i[110]="n",i[111]="o",i[112]="p",i[113]="q",i[114]="r",i[115]="s",i[116]="t",i[117]="u",i[118]="v",i[119]="w",i[120]="x",i[121]="y",i[122]="z",i[123]="{",i[124]="|",i[125]="}",i[126]="~"}function w1(){e[0]=99,e[1]=124,e[2]=119,e[3]=123,e[4]=242,e[5]=107,e[6]=111,e[7]=197,e[8]=48,e[9]=1,e[10]=103,e[11]=43,e[12]=254,e[13]=215,e[14]=171,e[15]=118,e[16]=202,e[17]=130,e[18]=201,e[19]=125,e[20]=250,e[21]=89,e[22]=71,e[23]=240,e[24]=173,e[25]=212,e[26]=162,e[27]=175,e[28]=156,e[29]=164,e[30]=114,e[31]=192,e[32]=183,e[33]=253,e[34]=147,e[35]=38,e[36]=54,e[37]=63,e[38]=247,e[39]=204,e[40]=52,e[41]=165,e[42]=229,e[43]=241,e[44]=113,e[45]=216,e[46]=49,e[47]=21,e[48]=4,e[49]=199,e[50]=35,e[51]=195,e[52]=24,e[53]=150,e[54]=5,e[55]=154,e[56]=7,e[57]=18,e[58]=128,e[59]=226,e[60]=235,e[61]=39,e[62]=178,e[63]=117,e[64]=9,e[65]=131,e[66]=44,e[67]=26,e[68]=27,e[69]=110,e[70]=90,e[71]=160,e[72]=82,e[73]=59,e[74]=214,e[75]=179,e[76]=41,e[77]=227,e[78]=47,e[79]=132,e[80]=83,e[81]=209,e[82]=0,e[83]=237,e[84]=32,e[85]=252,e[86]=177,e[87]=91,e[88]=106,e[89]=203,e[90]=190,e[91]=57,e[92]=74,e[93]=76,e[94]=88,e[95]=207,e[96]=208,e[97]=239,e[98]=170,e[99]=251,e[100]=67,e[101]=77,e[102]=51,e[103]=133,e[104]=69,e[105]=249,e[106]=2,e[107]=127,e[108]=80,e[109]=60,e[110]=159,e[111]=168,e[112]=81,e[113]=163,e[114]=64,e[115]=143,e[116]=146,e[117]=157,e[118]=56,e[119]=245,e[120]=188,e[121]=182,e[122]=218,e[123]=33,e[124]=16,e[125]=255,e[126]=243,e[127]=210,e[128]=205,e[129]=12,e[130]=19,e[131]=236,e[132]=95,e[133]=151,e[134]=68,e[135]=23,e[136]=196,e[137]=167,e[138]=126,e[139]=61,e[140]=100,e[141]=93,e[142]=25,e[143]=115,e[144]=96,e[145]=129,e[146]=79,e[147]=220,e[148]=34,e[149]=42,e[150]=144,e[151]=136,e[152]=70,e[153]=238,e[154]=184,e[155]=20,e[156]=222,e[157]=94,e[158]=11,e[159]=219,e[160]=224,e[161]=50,e[162]=58,e[163]=10,e[164]=73,e[165]=6,e[166]=36,e[167]=92,e[168]=194,e[169]=211,e[170]=172,e[171]=98,e[172]=145,e[173]=149,e[174]=228,e[175]=121,e[176]=231,e[177]=200,e[178]=55,e[179]=109,e[180]=141,e[181]=213,e[182]=78,e[183]=169,e[184]=108,e[185]=86,e[186]=244,e[187]=234,e[188]=101,e[189]=122,e[190]=174,e[191]=8,e[192]=186,e[193]=120,e[194]=37,e[195]=46,e[196]=28,e[197]=166,e[198]=180,e[199]=198,e[200]=232,e[201]=221,e[202]=116,e[203]=31,e[204]=75,e[205]=189,e[206]=139,e[207]=138,e[208]=112,e[209]=62,e[210]=181,e[211]=102,e[212]=72,e[213]=3,e[214]=246,e[215]=14,e[216]=97,e[217]=53,e[218]=87,e[219]=185,e[220]=134,e[221]=193,e[222]=29,e[223]=158,e[224]=225,e[225]=248,e[226]=152,e[227]=17,e[228]=105,e[229]=217,e[230]=142,e[231]=148,e[232]=155,e[233]=30,e[234]=135,e[235]=233,e[236]=206,e[237]=85,e[238]=40,e[239]=223,e[240]=140,e[241]=161,e[242]=137,e[243]=13,e[244]=191,e[245]=230,e[246]=66,e[247]=104,e[248]=65,e[249]=153,e[250]=45,e[251]=15,e[252]=176,e[253]=84,e[254]=187,e[255]=22}function A1(){t[0]=82,t[1]=9,t[2]=106,t[3]=213,t[4]=48,t[5]=54,t[6]=165,t[7]=56,t[8]=191,t[9]=64,t[10]=163,t[11]=158,t[12]=129,t[13]=243,t[14]=215,t[15]=251,t[16]=124,t[17]=227,t[18]=57,t[19]=130,t[20]=155,t[21]=47,t[22]=255,t[23]=135,t[24]=52,t[25]=142,t[26]=67,t[27]=68,t[28]=196,t[29]=222,t[30]=233,t[31]=203,t[32]=84,t[33]=123,t[34]=148,t[35]=50,t[36]=166,t[37]=194,t[38]=35,t[39]=61,t[40]=238,t[41]=76,t[42]=149,t[43]=11,t[44]=66,t[45]=250,t[46]=195,t[47]=78,t[48]=8,t[49]=46,t[50]=161,t[51]=102,t[52]=40,t[53]=217,t[54]=36,t[55]=178,t[56]=118,t[57]=91,t[58]=162,t[59]=73,t[60]=109,t[61]=139,t[62]=209,t[63]=37,t[64]=114,t[65]=248,t[66]=246,t[67]=100,t[68]=134,t[69]=104,t[70]=152,t[71]=22,t[72]=212,t[73]=164,t[74]=92,t[75]=204,t[76]=93,t[77]=101,t[78]=182,t[79]=146,t[80]=108,t[81]=112,t[82]=72,t[83]=80,t[84]=253,t[85]=237,t[86]=185,t[87]=218,t[88]=94,t[89]=21,t[90]=70,t[91]=87,t[92]=167,t[93]=141,t[94]=157,t[95]=132,t[96]=144,t[97]=216,t[98]=171,t[99]=0,t[100]=140,t[101]=188,t[102]=211,t[103]=10,t[104]=247,t[105]=228,t[106]=88,t[107]=5,t[108]=184,t[109]=179,t[110]=69,t[111]=6,t[112]=208,t[113]=44,t[114]=30,t[115]=143,t[116]=202,t[117]=63,t[118]=15,t[119]=2,t[120]=193,t[121]=175,t[122]=189,t[123]=3,t[124]=1,t[125]=19,t[126]=138,t[127]=107,t[128]=58,t[129]=145,t[130]=17,t[131]=65,t[132]=79,t[133]=103,t[134]=220,t[135]=234,t[136]=151,t[137]=242,t[138]=207,t[139]=206,t[140]=240,t[141]=180,t[142]=230,t[143]=115,t[144]=150,t[145]=172,t[146]=116,t[147]=34,t[148]=231,t[149]=173,t[150]=53,t[151]=133,t[152]=226,t[153]=249,t[154]=55,t[155]=232,t[156]=28,t[157]=117,t[158]=223,t[159]=110,t[160]=71,t[161]=241,t[162]=26,t[163]=113,t[164]=29,t[165]=41,t[166]=197,t[167]=137,t[168]=111,t[169]=183,t[170]=98,t[171]=14,t[172]=170,t[173]=24,t[174]=190,t[175]=27,t[176]=252,t[177]=86,t[178]=62,t[179]=75,t[180]=198,t[181]=210,t[182]=121,t[183]=32,t[184]=154,t[185]=219,t[186]=192,t[187]=254,t[188]=120,t[189]=205,t[190]=90,t[191]=244,t[192]=31,t[193]=221,t[194]=168,t[195]=51,t[196]=136,t[197]=7,t[198]=199,t[199]=49,t[200]=177,t[201]=18,t[202]=16,t[203]=89,t[204]=39,t[205]=128,t[206]=236,t[207]=95,t[208]=96,t[209]=81,t[210]=127,t[211]=169,t[212]=25,t[213]=181,t[214]=74,t[215]=13,t[216]=45,t[217]=229,t[218]=122,t[219]=159,t[220]=147,t[221]=201,t[222]=156,t[223]=239,t[224]=160,t[225]=224,t[226]=59,t[227]=77,t[228]=174,t[229]=42,t[230]=245,t[231]=176,t[232]=200,t[233]=235,t[234]=187,t[235]=60,t[236]=131,t[237]=83,t[238]=153,t[239]=97,t[240]=23,t[241]=43,t[242]=4,t[243]=126,t[244]=186,t[245]=119,t[246]=214,t[247]=38,t[248]=225,t[249]=105,t[250]=20,t[251]=99,t[252]=85,t[253]=33,t[254]=12,t[255]=125}function k1(){F[0]=141,F[1]=1,F[2]=2,F[3]=4,F[4]=8,F[5]=16,F[6]=32,F[7]=64,F[8]=128,F[9]=27,F[10]=54}function Q(n){k[v]=n,v+=1}function R1(n){const r=n.length-1;for(let s=0;s<=r;s+=1)Q(f1(n,s))}function T1(n){Q(n)}function j1(n){let r="",s=0,a=0,l=0,b=0,c=0,m=0;if(w(n,n.length,n.length)==" ")return console.error("ECBEncrypt error: whitespace only"),"";if(n=="")return console.error("ECBEncrypt error: empty string"),"";for(v=0,R1(n);l<v;){if(v-l<16){const x=16-v;for(let h=v;h<v+x;h+=1)k[h]=32;v+=x}for(s=l,l+=16,a=l,b=s;b<a;)for(c=0;c<4;c+=1)for(m=0;m<4;m+=1)o[c][m]=k[b],k[b]=0,b+=1;for(x1(),b=s;b<a;)for(c=0;c<4;c+=1)for(m=0;m<4;m+=1)r+=J(o[c][m]),b+=1}return $(r)==n,r}function $(n){let r="",s=n,a="",l=0,b=0,c=0,m=0,x=0,h=0,g=0,f=0,T=0;if(n=="")return console.error("ECBDecrypt error: empty string"),"";for(v=0;s!="";)a=w(s,1,2),s=w(s,3,s.length),l=d1(a),T1(l);for(;m<v;){if(v-m<16){for(T=16-v,h=v;h<v+T;h+=1)k[h]=32;v+=T}for(b=m,m+=16,c=m,x=b;x<c;)for(g=0;g<4;g+=1)for(f=0;f<4;f+=1)o[g][f]=k[x],x+=1;for(g1(),x=b;x<c;)for(g=0;g<4;g+=1)for(f=0;f<4;f+=1)r+=_1(o[g][f]),x+=1}for(;w(r,r.length,H(r))==" ";)r=w(r,1,H(r)-1);return r}class D1{constructor(){this.init(),e1(this)}setFields(r){this.resources=r?[...r]:[]}updateAt(r,s,a){if(a){this.resources[r].value=s;return}const l=[...this.resources];l[r].value=s,this.resources=l}reset(){this.init()}init(){this.resources=[{type:"number",value:1e7,description:"Vanadium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Chromium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Titanium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Tungsten",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Gold",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Noobium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Osmium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Iridium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:1e7,description:"Palladium",min:0,max:1e7,tip:"0 - 10000000"}]}}const I=new D1;class B1{constructor(){F1()}generateXML(r){let s="";for(let l=0;l<9;l++)s+=j1(String(I.resources[l].value))+" ";return r.addKey("R","STRING",s,"R"),r.getAsString()}parse(r,s){if(r.parse(s),!r.getKey("R","R"))return console.error("Wrong bank file!"),null;const a=[],l=r.getKey("R","R").value,b=9;for(let c=0;c<b;c++){const m=c1(l,c);m!=""&&a.push(parseInt($(m)||"0"))}return[{type:"number",value:a[0],description:"Vanadium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[1],description:"Chromium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[2],description:"Titanium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[3],description:"Tungsten",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[4],description:"Gold",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[5],description:"Noobium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[6],description:"Osmium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[7],description:"Iridium",min:0,max:1e7,tip:"0 - 10000000"},{type:"number",value:a[8],description:"Palladium",min:0,max:1e7,tip:"0 - 10000000"}]}}const z=new B1,N1=n1(n=>{const{accountStore:r,menuStore:s,mapStore:a}=i1(),[l,b]=E.useState(n.bankName),[c,m]=E.useState(N.get(U.EXODUS_3).authorID),x=N.get(U.EXODUS_3).title,h=E.useMemo(()=>new m1(l,c,s.playerID,"1"),[r.current,s.playerID,l,c]),g=()=>{a.setMapData(r.current,x,{resources:I.resources})};E.useEffect(()=>{var j;const _=(j=a.list[r.current])==null?void 0:j[x],S=_==null?void 0:_.resources;S?I.setFields(S):setTimeout(f.onResetClick)},[r.current]);const f={onBankNameChange:E.useCallback(_=>{b(_)},[]),onAuthorIdChange:E.useCallback(_=>{m(_)},[]),onFileDrop:E.useCallback((_,S)=>{const j=z.parse(h,S);j&&(P.flushSync(()=>I.setFields()),I.setFields(j))},[]),onDownloadClick:E.useCallback(()=>{r1(z.generateXML(h),l+".SC2Bank",!0),s.autoSave||g()},[h]),onCopyCodeClick:E.useCallback(()=>{l1(z.generateXML(h),!0),s.autoSave||g()},[h]),onResetClick:E.useCallback(()=>{b(n.bankName),m(N.get(U.EXODUS_3).authorID),P.flushSync(()=>I.setFields()),I.reset()},[]),onFieldChange:E.useCallback((_,S)=>{I.updateAt(S,parseInt(_),!0),s.autoSave&&g()},[])},T=E.useMemo(()=>y.jsxs(V,{style:{flexDirection:"column"},children:[y.jsxs(o1,{children:["Note: this map has no validation, so you",y.jsx("br",{})," can skip ",y.jsx("b",{children:"Player id"})," or ",y.jsx("b",{children:"Author id"})," here.",y.jsx("br",{}),y.jsx("br",{}),"While the map in beta, I'm too lazy to add",y.jsx("br",{})," inputs for each game param :P",y.jsx("br",{}),"Hacking resources allows you to get",y.jsx("br",{})," anything in the game."]}),y.jsx(s1,{children:"Resources:"}),y.jsx(V,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px"},alignInputs:!0,children:I.resources.map((_,S)=>y.jsx(a1,{index:S,type:"number",style:{width:"88px"},label:_.description+":",onChange:f.onFieldChange,min:_.min.toString(),max:_.max.toString(),value:_.value.toString(),tip:_.tip?_.tip:null},S))})]}),[I.resources]);return y.jsx(u1,{bankName:l,authorID:c,onBankNameChange:f.onBankNameChange,onAuthorIdChange:f.onAuthorIdChange,onFileDrop:f.onFileDrop,onDownload:f.onDownloadClick,onCopy:f.onCopyCodeClick,onReset:f.onResetClick,children:T})}),z1=t1.memo(N1);export{z1 as default};
