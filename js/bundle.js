/*!
 * sc2-bank-generator - v1.0.0
 * Compiled Tue, 09 May 2023 19:37:57 UTC
 */
!function(e,t,n,a,r,s){"use strict";function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i,l={exports:{}},u={};l.exports=function(){if(i)return u;i=1;var t=e,n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,a){var i,l={},u=null,c=null;for(i in void 0!==a&&(u=""+a),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)r.call(t,i)&&!o.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:n,type:e,key:u,ref:c,props:l,_owner:s.current}}return u.Fragment=a,u.jsx=l,u.jsxs=l,u}();var c,d=l.exports,h=n;c=h.createRoot,h.hydrateRoot;const p="1.07 (9.05.2023)";function g(e,t){return Math.round(Math.random()*(t-e+1)-.5)+e}function m(e="00:10:00"){const t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])}function f(e){return new Date(1e3*e).toISOString().substring(11,19)}function y(e=2){return(Date.now()+Math.random()).toString(32).replace(".","").substring(e).toUpperCase()}function v(e,t){window.navigator.clipboard.writeText(e).then((()=>{t&&console.log("Copied to clipboard:\n"+e)}))}function b(e,t,n){const r=new Blob([e],{type:"application/octet-stream"});a.saveAs(r,t),n&&console.log("download bank file:"+e)}var x,S=e.memo((t=>{const n=e.useRef(null);let{type:a}=t;a||(a="random");let r=0;const s=(e,t,n)=>(e="random"==n?g(1,4):e>4?1:e+1,t.current.style.backgroundImage="url('./assets/images/backgrounds/bg"+e+".jpg')",e);return e.useEffect((()=>{r=s(r,n,a);const e=window.setInterval((()=>{r=s(r,n,a)}),12e4);return()=>window.clearInterval(e)}),[]),d.jsx("div",{className:"Slideshow",ref:n,children:t.children})}));class C{constructor(){this.init(),r.makeAutoObservable(this)}reset(){}init(){}}!function(e){e[e.NONE=0]="NONE",e[e.HELP=1]="HELP",e[e.WARN=2]="WARN",e[e.CONFIRM=3]="CONFIRM",e[e.ACCOUNTS=4]="ACCOUNTS",e[e.UPDATES=5]="UPDATES"}(x||(x={}));const w={accountStore:new class extends C{reset(){this.list=[{id:"DEFAULT",name:"Noob",playerID:""}],this.current="DEFAULT",localStorage.setItem("AccountData",JSON.stringify({list:this.list,selected:this.current}))}add(e="",t=""){const n={id:y(),name:e,playerID:t};return this.list=[...this.list,n],localStorage.setItem("AccountData",JSON.stringify({list:this.list,selected:this.current})),n}change(e,t){for(let n=0;n<this.list.length;n++){const a=this.list[n];if(a.id==e){t.name&&(a.name=t.name),t.playerID&&(a.playerID=t.playerID);break}}this.list=[...this.list],localStorage.setItem("AccountData",JSON.stringify({list:this.list,selected:this.current}))}remove(e){this.list.length<=1||(this.list=this.list.filter((t=>t.id!=e)),this.current==e&&(this.current=this.list[0].id),localStorage.setItem("AccountData",JSON.stringify({list:this.list,selected:this.current})))}setSelected(e){this.current=e,localStorage.setItem("AccountData",JSON.stringify({list:this.list,selected:this.current}))}get currentAccount(){for(let e=0;e<this.list.length;e++)if(this.list[e].id==this.current)return this.list[e];return null}init(){const e=JSON.parse(localStorage.getItem("AccountData"));this.list=e?.list,this.list&&this.list.length||this.reset(),this.current=e?.selected,this.current||this.setSelected(this.list[0].id)}},mapStore:new class extends C{reset(){this.list={},localStorage.removeItem("MapsData")}setMapData(e,t,n){this.list[e]={...this.list[e],[t]:n},localStorage.setItem("MapsData",JSON.stringify(this.list))}clearMapData(e,t){if(t){if(!this.list[e]?.[t])return;this.list[e][t]=null,delete this.list[e][t]}else this.list[e]=null,delete this.list[e];localStorage.setItem("MapsData",JSON.stringify(this.list))}init(){this.list=JSON.parse(localStorage.getItem("MapsData"))||{}}},menuStore:new class extends C{reset(){localStorage.removeItem("PlayerID"),this.playerID="",localStorage.removeItem("SelectedMap"),this.selectedMap=0,localStorage.removeItem("AutoSave"),this.autoSave=!0,localStorage.removeItem("Sounds"),this.sounds=!0}setPlayerID(e){this.playerID=e,localStorage.setItem("PlayerID",e)}setSelectedMap(e){this.selectedMap=e,localStorage.setItem("SelectedMap",e.toString())}setAutoSave(e){this.autoSave=e,localStorage.setItem("AutoSave",e?"true":"false")}setSounds(e){this.sounds=e,localStorage.setItem("Sounds",e?"true":"false")}init(){this.playerID=localStorage.getItem("PlayerID")||"",this.selectedMap=parseInt(localStorage.getItem("SelectedMap"))||0,this.autoSave="false"!=localStorage.getItem("AutoSave"),this.sounds="false"!=localStorage.getItem("Sounds")}},modalStore:new class extends C{setModal(e,t,n,a){if(this.current=x[e],this.message=t,"NONE"==e)return this.actions=[],void(this.data=null);this.actions=n,this.data=a}reset(){this.current=0,localStorage.removeItem("FirstHelp")}init(){"true"!=localStorage.getItem("FirstHelp")?(this.current=x.HELP,localStorage.setItem("FirstHelp","true")):this.current=x.NONE}}},j=e.createContext(null),I=()=>{const t=e.useContext(j);if(!t)throw new Error("useStore must be used within a StoreProvider.");return t};var k=e.memo((e=>d.jsx("button",{className:"Button",style:e.style,onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},children:e.children})));var D=e.memo((t=>{const n=e.useMemo((()=>{let e="Container";return"auto"==t.style?.overflow||"auto"==t.style?.overflowX||"auto"==t.style?.overflowY?e+=" ScrollContainer":(t.style?.flexWrap&&"nowrap"!=t.style?.flexWrap||t.style?.flexFlow&&"nowrap"!=t.style?.flexFlow?.split(" ")[1]?e+=" WrapContainer":e+="column"==t.style?.flexDirection||"column"==t.style?.flexFlow?.split(" ")[0]?" ColumnContainer":" RowContainer",e+=t.alignInputs?" TextFieldsContainer":""),e}),[]);return d.jsx("div",{className:n,style:t.style,children:t.children})}));var A=e.memo((e=>d.jsx("span",{className:"Text",style:e.style,children:e.children}))),N={},E={},T={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a;"undefined"!=typeof window&&(void 0===window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,t))};e.default=t}(T);var _={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=e||"";a&&(s=e.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,n,a){return n>0&&n+e.length!==a.length&&e.search(t)>-1&&":"!==a.charAt(n-2)&&("-"!==a.charAt(n+e.length)||"-"===a.charAt(n-1))&&a.charAt(n-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})));r&&(s=function(e){if(function(e){return"string"==typeof e&&-1!==e.indexOf("@")}(e))return console.warn("This arg looks like an email address, redacting."),n;return e}(s));return s};var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;var n="REDACTED (Potential Email Address)"}(_),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(T),n=o(_),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],r=["title","location"],s=["page","hitType"];function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,o,i=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=s.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return i}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,y(a.key),a)}}function f(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var v=function(){function e(){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"reset",(function(){o.isInitialized=!1,o._testMode=!1,o._currentMeasurementId,o._hasLoadedGA=!1,o._isQueuing=!1,o._queueGtag=[]})),f(this,"_gtag",(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];o._testMode||o._isQueuing?o._queueGtag.push(n):t.default.apply(void 0,n)})),f(this,"_loadGA",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googletagmanager.com/gtag/js";if("undefined"!=typeof window&&"undefined"!=typeof document&&!o._hasLoadedGA){var a=document.createElement("script");a.async=!0,a.src="".concat(n,"?id=").concat(e),t&&a.setAttribute("nonce",t),document.body.appendChild(a),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},o._hasLoadedGA=!0}})),f(this,"_toGtagOptions",(function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce((function(e,n){var a=h(n,2),r=a[0],s=a[1];return t[r]?e[t[r]]=s:e[r]=s,e}),{})}})),f(this,"initialize",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Require GA_MEASUREMENT_ID");var n="string"==typeof e?[{trackingId:e}]:e;o._currentMeasurementId=n[0].trackingId;var a=t.gaOptions,r=t.gtagOptions,s=t.nonce,i=t.testMode,l=void 0!==i&&i,c=t.gtagUrl;if(o._testMode=l,l||o._loadGA(o._currentMeasurementId,s,c),o.isInitialized||(o._gtag("js",new Date),n.forEach((function(e){var t=d(d(d({},o._toGtagOptions(d(d({},a),e.gaOptions))),r),e.gtagOptions);Object.keys(t).length?o._gtag("config",e.trackingId,t):o._gtag("config",e.trackingId)}))),o.isInitialized=!0,!l){var h=u(o._queueGtag);for(o._queueGtag=[],o._isQueuing=!1;h.length;){var p=h.shift();o._gtag.apply(o,u(p)),"get"===p[0]&&(o._isQueuing=!0)}}})),f(this,"set",(function(e){e?"object"===l(e)?(0===Object.keys(e).length&&console.warn("empty `fieldsObject` given to .set()"),o._gaCommand("set",e)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),f(this,"_gaCommandSendEvent",(function(e,t,n,a,r){o._gtag("event",t,d(d({event_category:e,event_label:n,value:a},r&&{non_interaction:r.nonInteraction}),o._toGtagOptions(r)))})),f(this,"_gaCommandSendEventParameters",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("string"==typeof t[0])o._gaCommandSendEvent.apply(o,u(t.slice(1)));else{var r=t[0],s=r.eventCategory,l=r.eventAction,c=r.eventLabel,d=r.eventValue;r.hitType;var h=i(r,a);o._gaCommandSendEvent(s,l,c,d,h)}})),f(this,"_gaCommandSendTiming",(function(e,t,n,a){o._gtag("event","timing_complete",{name:t,value:n,event_category:e,event_label:a})})),f(this,"_gaCommandSendPageview",(function(e,t){if(t&&Object.keys(t).length){var n=o._toGtagOptions(t),a=n.title,s=n.location,l=i(n,r);o._gtag("event","page_view",d(d(d(d({},e&&{page_path:e}),a&&{page_title:a}),s&&{page_location:s}),l))}else e?o._gtag("event","page_view",{page_path:e}):o._gtag("event","page_view")})),f(this,"_gaCommandSendPageviewParameters",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("string"==typeof t[0])o._gaCommandSendPageview.apply(o,u(t.slice(1)));else{var a=t[0],r=a.page;a.hitType;var l=i(a,s);o._gaCommandSendPageview(r,l)}})),f(this,"_gaCommandSend",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a="string"==typeof t[0]?t[0]:t[0].hitType;switch(a){case"event":o._gaCommandSendEventParameters.apply(o,t);break;case"pageview":o._gaCommandSendPageviewParameters.apply(o,t);break;case"timing":o._gaCommandSendTiming.apply(o,u(t.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(a));break;default:console.warn("Send command doesn't exist: ".concat(a))}})),f(this,"_gaCommandSet",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=f({},t[0],t[1])),o._gtag("set",o._toGtagOptions(t[0]))})),f(this,"_gaCommand",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];switch(e){case"send":o._gaCommandSend.apply(o,n);break;case"set":o._gaCommandSet.apply(o,n);break;default:console.warn("Command doesn't exist: ".concat(e))}})),f(this,"ga",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("string"==typeof t[0])o._gaCommand.apply(o,t);else{var a=t[0];o._gtag("get",o._currentMeasurementId,"client_id",(function(e){o._isQueuing=!1;var t=o._queueGtag;for(a({get:function(t){return"clientId"===t?e:"trackingId"===t?o._currentMeasurementId:"apiVersion"===t?"1":void 0}});t.length;){var n=t.shift();o._gtag.apply(o,u(n))}})),o._isQueuing=!0}return o.ga})),f(this,"event",(function(e,t){if("string"==typeof e)o._gtag("event",e,o._toGtagOptions(t));else{var a=e.action,r=e.category,s=e.label,i=e.value,l=e.nonInteraction,u=e.transport;if(!r||!a)return void console.warn("args.category AND args.action are required in event()");var c={hitType:"event",eventCategory:(0,n.default)(r),eventAction:(0,n.default)(a)};s&&(c.eventLabel=(0,n.default)(s)),void 0!==i&&("number"!=typeof i?console.warn("Expected `args.value` arg to be a Number."):c.eventValue=i),void 0!==l&&("boolean"!=typeof l?console.warn("`args.nonInteraction` must be a boolean."):c.nonInteraction=l),void 0!==u&&("string"!=typeof u?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(u)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),c.transport=u)),o._gaCommand("send",c)}})),f(this,"send",(function(e){o._gaCommand("send",e)})),this.reset()}var o,c,p;return o=e,c=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],c&&m(o.prototype,c),p&&m(o,p),Object.defineProperty(o,"prototype",{writable:!1}),e}();e.GA4=v;var b=new v;e.default=b}(E),function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==t(e)&&"function"!=typeof e)return{default:e};var r=a(n);if(r&&r.has(e))return r.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=e[i]}s.default=e,r&&r.set(e,s);return s}(E);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var r=n.GA4;e.ReactGAImplementation=r;var s=n.default;e.default=s}(N);var M=o(N);function R(e,t,n,a){M.event({category:e,action:t,label:n,value:a})}var F=e.memo((e=>d.jsx("div",{className:"GlassWrapper"+(e.border?" GlassWrapperBordered":""),style:e.style,children:d.jsx("div",{className:"GlassWrapper-content",children:e.children})})));var O=e.memo((t=>{const[n,a]=e.useMemo((()=>[t.children.charAt(0),t.children.substring(1)]),[t.children]);return d.jsxs("label",{htmlFor:t.for,className:"Label",children:[d.jsx("span",{className:"Label-start",style:t.style,children:n}),d.jsx("span",{className:"Label-other",style:t.style,children:a})]})}));var P=e.memo((e=>d.jsx("hr",{className:"Line",style:e.style})));var K=e.memo((t=>{const n=(t.minWidth||250)+"px",a=(t.maxWidth||500)+"px",r=(t.maxHeight||200)+"px",s=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"column",padding:"10px",height:"min-content"},children:[d.jsxs(D,{style:{flexDirection:"row",justifyContent:"space-between"},children:[d.jsx(O,{style:{fontSize:"20px"},children:t.label}),d.jsx(k,{onClick:t.onClose,children:"Close"})]}),d.jsx(P,{style:{margin:"10px 0 0 0"}})]})),[]);return d.jsx(D,{style:{flexFlow:"row wrap",width:"100vw",height:"100vh",zIndex:"9999",position:"fixed",left:"0",top:"0",background:"#000000AA",alignItems:"center",justifyContent:"center",padding:"5px"},children:d.jsx(F,{border:!0,children:d.jsxs(d.Fragment,{children:[s,d.jsx(D,{style:{overflowX:"auto",flexDirection:"column",width:"calc(100vw - 40px)",maxWidth:a,height:"calc(100vh - 80px)",maxHeight:r,minWidth:"100%",minHeight:"max-content"},children:d.jsx(D,{style:{flexDirection:"column",overflowY:"auto",overflowX:"hidden",padding:"0 0 10px 10px",minWidth:n},children:t.children})})]})})})}));var L=e.memo((t=>{const n=e.useRef(null),a=t.type?t.type:"text",r=e.useMemo((()=>t.label?t.label+1e5*Math.random():null),[t.label]),[s,o]=e.useState(t.value);e.useEffect((()=>{o(t.value)}),[t.value]);const i=e.useCallback((e=>{const n="text"==a?e.target.value:l(e.target.value);o(n),t.onChange(n,t.index,t.group)}),[t.min,t.max]),l=e=>{if(!e)return t.min?t.min:"";let n=e?parseInt(e):0;const a=t.min?parseInt(t.min):0,r=t.max?parseInt(t.max):999999999;return n<a&&(n=a),n>r&&(n=r),n.toString()},u=/^-?\d+\.?\d*$/,c=e=>{u.test(e.key)||"Backspace"==e.key||e.preventDefault()};return e.useEffect((()=>{const e=n?.current;return"number"==a&&e.addEventListener("keydown",c),()=>{e?.removeEventListener("keydown",c)}}),[]),d.jsxs("div",{ref:n,className:"Input","data-tooltip":t.tip,children:[t.label?d.jsx(O,{for:r,children:t.label}):null,d.jsx("input",{className:"Input-field",id:r,style:t.style,placeholder:t.placeholder,value:s,onChange:i})]})}));var B=e.memo((t=>{const[n,a]=e.useState("default"),r={onMouseEnter:e.useCallback((()=>{a("hover")}),[]),onMouseLeave:e.useCallback((()=>{a("default")}),[])},s=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx("img",{src:"assets/images/noob.png",width:"59",height:"59"}),d.jsx(L,{onChange:e=>t.onNameChange(t.id,e),label:"Name:",placeholder:"Noob",value:t.name,tip:"Any nick name"}),d.jsx(L,{onChange:e=>t.onPlayerIDChange(t.id,e),label:"Palyer ID:",tip:"Player ID from account path",placeholder:"X-SX-X-XXXXXXX",value:t.playerID}),d.jsx(k,{onClick:()=>t.onRemove(t.id),style:{width:"100px"},children:"Remove"})]})),[]);return d.jsx("div",{onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onClick:e=>t.onSelect(t.id,t.playerID),children:d.jsx(D,{style:(()=>{let e="#00000000";const a={flexDirection:"row",justifyContent:"space-around",alignItems:"center",height:"70px",width:"calc(100% - 10px)",minWidth:"620px",cursor:"pointer",backgroundColor:"#00000000",transition:"0.4s"};switch(n){case"default":e=t.selected?"#00CCFF44":"#00000000";break;case"hover":e=t.selected?"#00CCFF44":"#00CCFF22"}return a.backgroundColor=e,a})(),children:s})})}));const U=t.observer((t=>{const{accountStore:n,menuStore:a,modalStore:r,mapStore:s}=I(),o={onCloseClick:e.useCallback((()=>{r.setModal("NONE")}),[]),onAddNewAccount:e.useCallback((()=>{n.add("Nick Name"),R("Accounts","Added new account","",n.list.length)}),[]),onRemoveAccount:e.useCallback((e=>{s.clearMapData(e),n.remove(e),a.setPlayerID(n.currentAccount.playerID),R("Accounts","Remove account")}),[]),onAccountSelect:e.useCallback(((e,t)=>{n.current!=e&&(n.setSelected(e),a.setPlayerID(t),R("Accounts","Select account",t))}),[]),onNameChange:e.useCallback(((e,t)=>{n.change(e,{name:t})}),[]),onPlayerIDChange:e.useCallback(((e,t)=>{n.change(e,{playerID:t}),e==n.current&&a.setPlayerID(t)}),[])},i=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsxs(A,{style:{textAlign:"center",marginTop:"10px"},children:["If you have more accounts, you can add them here for quick switching. ",d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(k,{style:{width:"200px",alignSelf:"center",marginBottom:"20px"},onClick:o.onAddNewAccount,children:"Add new account"})]})),[]);return d.jsxs(K,{label:"Accounts",minWidth:800,maxWidth:800,maxHeight:400,onClose:o.onCloseClick,children:[i,d.jsx(D,{style:{flexDirection:"column",overflowY:"auto"},children:n.list.map((e=>d.jsx(B,{id:e.id,name:e.name,playerID:e.playerID,selected:n.current==e.id,onSelect:o.onAccountSelect,onNameChange:o.onNameChange,onPlayerIDChange:o.onPlayerIDChange,onRemove:o.onRemoveAccount},e.id)))})]})}));var H=e.memo(U);const G=t.observer((t=>{const{modalStore:n}=I(),a={onCloseClick:e.useCallback((()=>{n.setModal("NONE")}),[]),onYesClick:e.useCallback((()=>{n.actions[0]?.(),n.setModal("NONE")}),[]),onNoClick:e.useCallback((()=>{n.actions[1]?.(),n.setModal("NONE")}),[])};return d.jsx(K,{label:"?¿",onClose:a.onCloseClick,maxWidth:500,minWidth:500,maxHeight:200,children:d.jsxs(D,{style:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:"500px",minWidth:"500px"},children:[d.jsx(A,{style:{textAlign:"center",marginTop:"20px",marginRight:"20px"},children:n.message}),d.jsxs(D,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:"20px"},children:[d.jsx(k,{onClick:a.onYesClick,style:{width:"100px",minWidth:"100px"},children:"Yes"}),d.jsx(k,{onClick:a.onNoClick,style:{width:"100px",minWidth:"100px"},children:"No"})]})]})})}));var W=e.memo(G);const X=t.observer((t=>{const{modalStore:n}=I(),a={onCloseClick:e.useCallback((()=>{n.setModal("NONE")}),[])};return d.jsx(K,{label:"What is this?¿",maxWidth:1200,minWidth:700,maxHeight:600,onClose:a.onCloseClick,children:d.jsxs(D,{style:{flexDirection:"column",padding:"20px",minWidth:"100%"},children:[d.jsxs(A,{children:["Hi!",d.jsx("br",{}),d.jsx("br",{}),"Reinstalled Windows? Playing Starcraft2 from another PC? Lost your save?",d.jsx("br",{}),"This service can restore some top-secured SC2 banks (Starcode + signature + anticheats).",d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:"1. What bank can be restored here?"}),d.jsxs(A,{children:["All available maps can be selected in the menu selector. If your map is not there, then you can't :(",d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:"2. I found my map, how to restore the bank?"}),d.jsxs(A,{children:["First make sure you have played this map and that the bank file folder exists.",d.jsx("br",{}),"In Windows, StarCraft2 stores banks (save files) in C:/Users/UserName/Documents/StarCraft II/Accounts/.../.../Banks/... . You have to find the bank file there. When you select map here, you also can copy bank fileName to use it in search:",d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("img",{src:"./assets/images/help1.png",alt:"help1.png",width:281,height:52,style:{alignSelf:"center",border:"3px double #ffffff40"}}),d.jsxs(A,{style:{alignSelf:"center"},children:['Bank file name for search (Example for map "Zombie World Unity")',d.jsx("br",{}),d.jsx("br",{})]}),d.jsxs(A,{style:{alignSelf:"center"},children:[d.jsx("b",{children:" Dont forget to make backup of your original bank file!"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:"3. Found the bank file, what next?"}),d.jsxs(A,{children:["Most of banks are verified with a signature that requires the playerID and map authorID to generate. They are in the path to the file:",d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("img",{src:"./assets/images/help2.png",alt:"help2.png",width:629,height:191,style:{alignSelf:"center",border:"3px double #ffffff40"}}),d.jsxs(A,{style:{alignSelf:"center"},children:["Variables for Generator",d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsxs(A,{children:["Usually the file name and author id are entered automatically, you don't need to change them unless you have to. But some regions (NA, Asian) can have different author IDs, so u have to be sure that authorID in the editor is correct.",d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("img",{src:"./assets/images/help3.png",alt:"help3.png",width:700,height:240,style:{alignSelf:"center",border:"3px double #ffffff40"}}),d.jsxs(A,{style:{alignSelf:"center"},children:["Where to put IDs",d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:"4. Edit your stats"}),d.jsxs(A,{children:['Now you enter any values for new stats, or drop your bank file to the rect "Drop file here" to read and edit it.',d.jsx("br",{}),"Please note that not all file parameters will be read when you drop the bank, but only the most important.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:"5. Replace or update the bank file"}),d.jsxs(A,{children:["You don't have to be in the game, be offline, or go to the main menu. Otherwise the game will overwrite the bank and you will not see any changes.",d.jsx("br",{}),d.jsx("br",{}),"Click ",d.jsx("b",{children:"Download bank"})," or ",d.jsx("b",{children:"Copy code"})," to copy the contents of a bank file to clipboard.",d.jsx("br",{}),d.jsx("br",{}),"If you have downloaded the file several times, then the file names can be like ",d.jsx("b",{children:"myBank"}),", ",d.jsx("b",{children:"myBank(1)"}),", ",d.jsx("b",{children:"myBank(2)"}),"... In this case, rename the desired file to remove the numbers and the file name was the same as the original bank file.",d.jsx("br",{}),d.jsx("br",{}),"Or you can copy the contents to the clipboard, open the bank file in any text editor and do ",d.jsx("b",{children:"Ctrl + A"})," (select all), ",d.jsx("b",{children:"Ctrl + V"})," (paste), ",d.jsx("b",{children:"Ctrl + S"})," (save) there. So you don't have to deal with downloaded files.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:"Can I get banned for this?"}),d.jsxs(A,{children:["No, custom maps are not official, they are created by other players with different skills, they can have various bugs, exploits, and other things that players can use. Blizzard is not responsible for this and does not take any action for these cases.",d.jsx("br",{}),d.jsx("br",{}),"In addition, it is well known that player statistics are sometimes reset/change spontaneously due to bugs in progress saving algorithms.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:'Whats "Accounts" for?'}),d.jsxs(A,{children:["The account manager is intended for those who have multiple accounts and are going to make stats for each one. Nicknames can be anything for convenience, and the player id is substituted from the path to the banks folder, as in paragraph 3.",d.jsx("br",{}),d.jsx("br",{}),"A separate pool of maps will be created for each account and stored in the browser cache, so you can switch between entries and not enter PlayerID and stats every time.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:'Whats "Auto Save" for?'}),d.jsxs(A,{children:["This option is just to save the current bank's stats in the cache.",d.jsx("br",{}),"If it is active, then saving occurs every time you change any value or option.",d.jsx("br",{}),"If disabled, the stats is saved only when downloading or copying a bank file.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx(O,{children:"Found a bug or wanna add new map?"}),d.jsxs(A,{children:["Post issues or pull requests ",d.jsx("a",{href:"https://github.com/DarthVan/StarCraft2-Bank-Restorer",target:"_blank",style:{color:"#7777FF"},children:"here"}),d.jsx("br",{}),d.jsx("br",{}),"gg hf!",d.jsx("br",{}),d.jsx("br",{})]})]})})}));var Y=e.memo(X);const q=t.observer((()=>{const{modalStore:t}=I(),n=e=>{console.log("Checking updates..."),fetch("./updates.json?"+Date.now(),{cache:"no-cache"}).then((e=>e.json()),(()=>console.error("Info: cant load updates list!"))).then((n=>{const a=n.updates;a&&a.length?a[0].version==p?e&&t.setModal("UPDATES","Your tab is up to date!",null,a):t.setModal("UPDATES","There is a new update! Refresh your tab.",null,a):console.error("Info: updates list is null or empty")}))};e.useEffect((()=>{n();const e=window.setInterval((()=>n()),36e5);return()=>window.clearInterval(e)}),[]);const a={onVersionClick:e.useCallback((()=>{n(!0),R("Info","Version",p)}),[])};return d.jsx(F,{children:d.jsx(D,{style:{overflow:"auto"},children:d.jsxs(D,{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px",minWidth:"max-content"},children:[d.jsx(O,{children:"Powered by React 18"}),d.jsx("div",{onClick:a.onVersionClick,style:{cursor:"pointer"},children:d.jsxs(A,{style:{textDecoration:"underline",fontSize:"12px"},children:["Version ",p]})})]})})})}));var V=e.memo(q);const z=Math.pow(2,24),J=Math.pow(2,32);function Z(e){let t="";for(let n=7;n>=0;--n){t+=(e>>>(n<<2)&15).toString(16)}return t}function Q(e,t){return e<<t|e>>>32-t}class ${constructor(e){this.bytes=new Uint8Array(e<<2)}get(e){return e<<=2,this.bytes[e]*z+(this.bytes[e+1]<<16|this.bytes[e+2]<<8|this.bytes[e+3])}set(e,t){const n=Math.floor(t/z),a=t-n*z;e<<=2,this.bytes[e]=n,this.bytes[e+1]=a>>16,this.bytes[e+2]=a>>8&255,this.bytes[e+3]=255&a}}function ee(e){let t;t=e instanceof ArrayBuffer?e:function(e){const t=(e=(e=e.replace(/[\u0080-\u07ff]/g,(function(e){const t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}))).replace(/[\u0080-\uffff]/g,(function(e){const t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)}))).length,n=new Uint8Array(t);for(let a=0;a<t;++a)n[a]=e.charCodeAt(a);return n.buffer}(String(e));const n=t.byteLength,a=n<<3,r=a+65,s=Math.ceil(r/512)<<9>>>3>>>2,o=new $(s),i=o.bytes,l=new Uint32Array(80),u=new Uint8Array(t);let c,d,h=1732584193,p=4023233417,g=2562383102,m=271733878,f=3285377520;for(c=0;c<n;++c)i[c]=u[c];for(i[n]=128,o.set(s-2,Math.floor(a/J)),o.set(s-1,4294967295&a),c=0;c<s;c+=16){for(d=0;d<16;++d)l[d]=o.get(c+d);for(;d<80;++d)l[d]=Q(l[d-3]^l[d-8]^l[d-14]^l[d-16],1);let e,t,n,a=h,r=p,s=g,i=m,u=f;for(d=0;d<80;++d)d<20?(e=r&s|~r&i,t=1518500249):d<40?(e=r^s^i,t=1859775393):d<60?(e=r&s^r&i^s&i,t=2400959708):(e=r^s^i,t=3395469782),n=Q(a,5)+e+u+t+l[d]&4294967295,u=i,i=s,s=Q(r,30),r=a,a=n;h=h+a&4294967295,p=p+r&4294967295,g=g+s&4294967295,m=m+i&4294967295,f=f+u&4294967295}return Z(h)+Z(p)+Z(g)+Z(m)+Z(f)}function te(e){return re(Math.pow(re(e%1048576),.5))}function ne(e,t){return re(e/t)}function ae(e,t=4){let n=1;for(;t-- >0;)n*=10;return(Math.floor(e*n+.1)/n).toString()}function re(e){return function(e,t=4096){return Math.floor(e*t)/t}(e,4096)}class se{constructor(e,t,n){this._bankName=e,this._authorID=t,this._playerID=n}getAuthorNumber(){return parseInt(this._authorID.split("-")[3])}getPlayerNumber(){return parseInt(this._playerID.split("-")[3])}get bankName(){return this._bankName}get authorID(){return this._authorID}get playerID(){return this._playerID}}var oe;!function(e){e.INT="int",e.FIXED="fixed",e.STRING="string",e.FLAG="flag",e.TEXT="text",e.POINT="point"}(oe||(oe={}));class ie{constructor(e,t,n){this._name=e,this._type=t,this._value=n}update(e){this._value=e}get name(){return this._name}get type(){return this._type}get value(){switch(this._type){case oe.STRING:case oe.TEXT:return this._value;case oe.INT:return parseInt(this._value);case oe.FLAG:return"1"==this._value;case oe.FIXED:return parseFloat(this._value);case oe.POINT:const e=this._value.split(",");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}return null}get stringValue(){return this._value}}class le extends Map{constructor(e,t){super(t),this._name=e}set(e,t,n=!1){return n||this.isValidName(t.name,e),super.set(e,t)}sort(){const e=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});return new le(this._name,[...this.entries()].sort(((t,n)=>e.compare(t[0],n[0]))))}clear(){super.clear()}get name(){return this._name}isValidName(e,t){if(t&&t!=e)throw new Error("BankMap: Error! Key "+t+" and BankName are different!");return this.forEach(((t,n)=>{if(n==e)throw new Error("BankMap: Error! Name "+e+" already used!")})),!0}}class ue{constructor(e,t,n,a){this._info=new se(e,t,n),this._version=a||"1",this.init()}parse(e){let t=null;const n=new DOMParser;try{if("string"!=typeof e)throw new Error("Received data is not valid xml!");t=n.parseFromString(e,"text/xml").firstElementChild}catch(e){throw new Error("Received data is not valid xml!")}if(null==t)return;this._version=t.getAttribute("version"),"Bank"==t.firstChild.nodeName&&(t=t.firstElementChild),this._sections.clear();const a=t.getElementsByTagName("Section");for(let e=0;e<a.length;e++){const t=new le(a[e].getAttribute("name")),n=a[e].getElementsByTagName("Key");for(let e=0;e<n.length;e++){const a=n[e],r=a.getAttribute("name"),s=a.firstElementChild.attributes.item(0).name,o=a.firstElementChild.getAttribute(s);t.set(r,new ie(r,s,o))}this._sections.set(t.name,t)}this._signature=null;try{this._signature=t.getElementsByTagName("Signature")[0].getAttribute("value")}catch(e){this._signature=null}}addSection(e){return this._sections.has(e)||this._sections.set(e,new le(e)),this._sections.get(e)}addKey(e,t,n,a){const r=this.addSection(a);switch(typeof n){case"boolean":n=n?"1":"0";break;case"number":n=n.toString();break;case"string":break;case"object":"POINT"==t&&(n=ae(n.x)+","+ae(n.y))}return r.has(e)?r.get(e).update(n):r.set(e,new ie(e,oe[t],n)),r.get(e)}getKey(e,t){return this._sections.has(t)?this._sections.get(t).get(e):null}removeSection(e){return this._sections.delete(e)}removeKey(e,t){return!!this._sections.has(t)&&this._sections.get(t).delete(e)}sort(){this._sections.forEach((e=>{this._sections.set(e.name,e.sort(),!0)})),this._sections=this._sections.sort()}getAsString(){let e='<?xml version="1.0" encoding="utf-8"?>\n<Bank version="'+this._version+'">\n';return this._sections.forEach((t=>{e+='\t<Section name="'+t.name+'">\n',t.forEach((t=>{e+='\t\t<Key name="'+t.name+'">\n',e+="\t\t\t<Value "+t.type+'="'+t.stringValue+'"/>\n',e+="\t\t</Key>\n"})),e+="\t</Section>\n"})),this._signature&&(e+='\t<Signature value="'+this._signature+'"/>\n'),e+="</Bank>",e}updateSignature(){let e="";return e+=this._info.authorID,e+=this._info.playerID,e+=this._info.bankName,this._sections.forEach((t=>{e+=t.name,t.forEach((t=>{e+=t.name,e+="Value",e+=t.type,t.type!=oe.TEXT&&(e+=t.stringValue)}))})),this._signature=ee(e).toUpperCase()}async openFile(e,t){const n=new XMLHttpRequest;n.onreadystatechange=()=>{4==n.readyState&&200==n.status&&(this.parse.call(this,n.response),t&&t())},n.open("GET",e,!0),n.send()}get info(){return this._info}get sections(){return this._sections}get signature(){return this._signature}get version(){return this._version}init(){this._sections=new le("Sections")}}var ce=e.memo((t=>{const[n,a]=e.useState(!1),r=e.useRef(null),s={onDragStart:e.useCallback((e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.clearData(),e.dataTransfer.setData("text/plain",e.target.dataset.item)}),[]),onDragEnter:e.useCallback((e=>{e.preventDefault(),e.stopPropagation(),t.onDragEnter?.(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&a(!0)}),[t.onDragEnter]),onDragLeave:e.useCallback((e=>{e.preventDefault(),e.stopPropagation(),t.onDragLeave?.(),a(!1)}),[t.onDragLeave]),onDragOver:e.useCallback((e=>{e.preventDefault(),e.stopPropagation(),t.onDragOver?.(),n||a(!0)}),[n,t.onDragOver]),onDrop:e.useCallback((e=>{e.preventDefault(),e.stopPropagation(),a(!1),t.onDrop?.(),e.dataTransfer.files&&e.dataTransfer.files.length>0&&t.onFilesDrop?.((e=>{const t=[];for(let n=0;n<e.length;n++)t.push(e.item(n));return t})(e.dataTransfer.files))}),[t.onDrop,t.onFilesDrop])};return e.useEffect((()=>{t.onDragStateChange?.(n)}),[n]),e.useEffect((()=>{const e=r?.current;return e&&(e.addEventListener("dragstart",s.onDragStart),e.addEventListener("dragenter",s.onDragEnter),e.addEventListener("dragleave",s.onDragLeave),e.addEventListener("dragover",s.onDragOver),e.addEventListener("drop",s.onDrop)),()=>{e?.removeEventListener("dragstart",s.onDragStart),e?.removeEventListener("dragenter",s.onDragEnter),e?.removeEventListener("dragleave",s.onDragLeave),e?.removeEventListener("dragover",s.onDragOver),e?.removeEventListener("drop",s.onDrop)}}),[]),d.jsx("div",{className:"DropZone"+(n?" DropZone-active":""),style:t.style,ref:r,children:t.children?t.children:"Drop file here!"})}));const de=t.observer((t=>{const{menuStore:n}=I(),a=e.useMemo((()=>tt.get(n.selectedMap).title),[n.selectedMap]),r={onFilesDrop:e.useCallback((e=>{e[0].text().then((n=>t.onFileDrop?.(e[0].name.split(".")[0],n))),R("Editor","Drop file",a)}),[]),onDownload:e.useCallback((()=>{t.onDownload(),R("Editor","Download bank",a)}),[t.onDownload]),onCopy:e.useCallback((()=>{t.onCopy(),R("Editor","Copy code",a)}),[t.onCopy]),onReset:e.useCallback((()=>{t.onReset(),R("Editor","Reset",a)}),[t.onReset])},s=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row"},children:[d.jsxs(D,{style:{flexDirection:"column",width:"250px"},alignInputs:!0,children:[d.jsx(L,{label:"BankName:",placeholder:"BankFileName",onChange:t.onBankNameChange,tip:"Bank filename without *.SC2Bank extension",value:t.bankName}),d.jsx(L,{label:"Author id:",placeholder:"X-SX-X-XXXXXXX",onChange:t.onAuthorIdChange,tip:"Author ID from bank's path",value:t.authorID})]}),d.jsx(ce,{onFilesDrop:r.onFilesDrop})]})),[t.bankName,t.authorID]),o=e.useMemo((()=>d.jsx(P,{style:{margin:"10px 0 0 0"}})),[]),i=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row",justifyContent:"flex-end"},children:[d.jsx(k,{onClick:r.onDownload,children:"Download bank"}),d.jsx(k,{onClick:r.onCopy,children:"Copy code"}),d.jsx(k,{onClick:r.onReset,children:"Reset"})]})),[t.onDownload,t.onCopy]);return d.jsxs(D,{style:{flexDirection:"column",padding:"10px",width:"max-content",height:"max-content",minWidth:"max-content",minHeight:"max-content"},children:[s,o,t.children,o,i]})}));var he=e.memo(de);const pe=t.observer((t=>{const{accountStore:n,menuStore:a,mapStore:r,modalStore:o}=I(),[i,l]=e.useState(""),[u,c]=e.useState(""),[h,p]=e.useState(""),g=tt.get($e.ANY_SIMPLE).title,m=e.useMemo((()=>new ue(i,u,a.playerID,"1")),[n.current,a.playerID,i,u]);e.useEffect((()=>{const e=r.list[n.current]?.[g];e?(l(e.bankName),c(e.authorID),p(e.xml)):y.onResetClick()}),[n.current]);const f=()=>{r.setMapData(n.current,g,{bankName:i,authorID:u,xml:h})};e.useEffect((()=>{a.autoSave&&f()}),[i,u,h]);const y={onBankNameChange:e.useCallback((e=>{l(e)}),[]),onAuthorIdChange:e.useCallback((e=>{c(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{m.parse(t),m.sort(),l(e),p(m.getAsString())}),[]),onDownloadClick:e.useCallback((()=>{4!=a.playerID.split("-").length||4!=u.split("-").length||i.length<1?o.setModal("WARN","This map need a BankName, AuthorID and PlayerID to generate valid signature! Read Help for details."):(b(h,i+".SC2Bank",!0),a.autoSave||f())}),[m,h]),onCopyCodeClick:e.useCallback((()=>{4!=a.playerID.split("-").length||4!=u.split("-").length||i.length<1?o.setModal("WARN","This map need a BankName, AuthorID and PlayerID to generate valid signature! Read Help for details."):(v(h,!0),a.autoSave||f())}),[m,h]),onResetClick:e.useCallback((()=>{l(""),c(""),p("")}),[]),onFieldChange:e.useCallback((e=>{p(e)}),[]),updateSignature:e.useCallback((()=>{m.parse(h),m.sort(),m.updateSignature(),p(m.getAsString())}),[m,h])},x=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"column"},children:[d.jsx(O,{children:"Simple text editor for any banks, that protected with signature only. Drop file to edit it."}),d.jsx(s.TextField,{sx:{width:"900px","& .MuiInputBase-root":{color:"#CCCCFF",fontFamily:"Consolas",fontSize:"12px"},"& .MuiFormLabel-root":{color:"#7777FF",fontFamily:"Consolas"},"& .MuiFormLabel-root.Mui-focused":{color:"#CCCCFF",fontFamily:"Consolas"}},id:"standard-multiline-flexible",label:"XML Bank Data",multiline:!0,minRows:10,maxRows:30,value:h,onChange:e=>y.onFieldChange(e.target.value),variant:"standard",InputProps:{disableUnderline:!0,spellCheck:"false"}}),d.jsx(k,{onClick:y.updateSignature,style:{width:"150px"},children:"Update Signature"})]})),[m,h]);return d.jsx(he,{bankName:i,authorID:u,onBankNameChange:y.onBankNameChange,onAuthorIdChange:y.onAuthorIdChange,onFileDrop:y.onFileDrop,onDownload:y.onDownloadClick,onCopy:y.onCopyCodeClick,onReset:y.onResetClick,children:x})}));var ge=e.memo(pe);var me=e.memo((t=>{const n=e.useMemo((()=>t.label?t.label+1e5*Math.random():null),[t.label]),[a,r]=e.useState(t.value);e.useEffect((()=>{r(t.value)}),[t.value]);const s=e.useCallback((e=>{const n=e.target.checked;r(n),t.onChange(n,t.index,t.group)}),[]);return d.jsxs("div",{className:"Checkbox","data-tooltip":t.tip,children:[t.label?d.jsx(O,{for:n,children:t.label}):null,d.jsx("input",{className:"Checkbox-rect",style:t.style,type:"checkbox",id:n,checked:a,onChange:s})]})}));var fe=e.memo((t=>{const n=e.useMemo((()=>t.label?t.label+1e5*Math.random():null),[t.label]),a=e.useMemo((()=>d.jsx(d.Fragment,{children:t.children.map(((e,n)=>d.jsx("option",{value:e.value,selected:t.selected==e.value,className:"Select-option",children:e.label},n)))})),[t.children,t.selected]);return d.jsxs("div",{className:"Select",children:[t.label?d.jsx(O,{for:n,children:t.label}):null,d.jsx("select",{id:n,className:"Select-box",style:t.style,placeholder:t.placeholder,onChange:e=>t.onChange(e.target.value,t.index,t.group),children:a})]})}));var ye=new class{constructor(){this.ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!$%/()=?,.-;:_^#+* @{[]}|~`",this.ALENGTH=this.ALPHABET.length,this.AMAP=new Map;for(let e=0;e<this.ALENGTH;e++)this.AMAP.set(this.ALPHABET.charAt(e),e);this.reset(),console.log("starcode initialized.")}encrypt(e,t){const n=e.length,a=t.length;let r="";for(let s=0;s<n;s++)r+=this.shift(e.charAt(s),t.charAt(s%a),!0);return r}decrypt(e,t){const n=e.length,a=t.length;let r="";for(let s=0;s<n;s++)r+=this.shift(e.charAt(s),t.charAt(s%a),!1);return r}compress(e){const t=this.ALENGTH.toString();let n="";for(;"0"!=e;)n=this.chr(parseInt(this.modulo(e,t)))+n,e=this.divide(e,t);return n}decompress(e){const t=this.ALENGTH.toString(),n=e.length;let a="0";for(let r=0;r<n;r++)a=this.add(a,this.multiply(this.power(t,n-(r+1)),this.ord(e.charAt(r)).toString()));return a}getInt(e){const t=parseInt(this.modulo(this.code,(e+1).toString()));return this.code=this.divide(this.code,(e+1).toString()),t}setInt(e,t){if(e>t)throw new Error("STARCODE: value must be less or equal to maxValue!");this.code=this.add(this.multiply(this.code,(t+1).toString()),e.toString())}addHash(e,t){return this.hash(e,t)+e}removeHash(e,t){return e.substring(t)}validate(e,t,n=!1){const a=n?e.substring(0,t):null;return this.hash(e.substring(t),t,a)==e.substring(0,t)}reset(){this.code="0"}compressAndEncrypt(e){return this.code=this.encrypt(this.compress(this.code),e)}decryptAndDecompress(e,t){return this.code=this.decompress(this.decrypt(e,t))}add(e,t){t.length>e.length?e=this.fill(e,t.length):t=this.fill(t,e.length);let n=0,a="";for(let r=e.length-1;r>=0;r--){const s=parseInt(e.charAt(r))+parseInt(t.charAt(r));a=((s+n)%10).toString()+a,n=Math.floor((s+n)/10)}return n?n.toString()+a:a}subtract(e,t){t.length>e.length?e=this.fill(e,t.length):t=this.fill(t,e.length);let n="",a=0;for(let r=e.length-1;r>=0;r--){let s=parseInt(e.charAt(r))-parseInt(t.charAt(r))-a;s<0?(a=1,s+=10):a=0,n=s.toString()+n}return this.cut(n)}multiply(e,t){if("0"==t)return"0";const n=parseInt(t);let a=0,r="";for(let t=e.length-1;t>=0;t--){const s=parseInt(e.charAt(t))*n+a;r=(s%10).toString()+r,a=Math.floor(s/10)}return a>0&&(r=a.toString()+r),r}divide(e,t){const n=parseInt(t),a=e.length;let r=0,s="";for(let t=0;t<a;t++){const a=parseInt(e.charAt(t))+10*r;s+=Math.floor(a/n).toString(),r=a%n}return this.cut(s)}modulo(e,t){const n=parseInt(t),a=e.length;let r=0;for(let t=0;t<a;t++)r=(parseInt(e.charAt(t))+10*r)%n;return r.toString()}cut(e){const t=e.length-1;let n=0;for(;n<t&&"0"==e.charAt(n);)n++;return e.substring(n)}power(e,t){if(t<=0)return"1";let n=e;for(;t>1;)n=this.multiply(n,e),t--;return n}chr(e){return this.ALPHABET.charAt(e)}ord(e){return this.AMAP.get(e)}shift(e,t,n=!0){if(n)return this.chr((this.ord(e)+this.ord(t))%this.ALENGTH);const a=this.ord(e)-this.ord(t);return a<0?this.chr((a+this.ALENGTH)%this.ALENGTH):this.chr(a%this.ALENGTH)}fill(e,t){t-=e.length;let n="";for(;t>0;)n+="0",t--;return n+e}hash(e,t,n){let a="0";for(let t=e.length-1;t>=0;t--)a=this.add(a,(this.ord(e.charAt(t))*(t+1)).toString());if(!n)return this.fill(this.compress(this.modulo(a,this.int(Math.pow(this.ALENGTH,t)).toString())),t);let r=172319;return(e=>{r++;let s=Math.pow(this.ALENGTH,t);s=s>r?s=r:s;const o=this.fill(this.compress(this.modulo(a,s.toString())),t);r%1e3==0&&console.log("max:",r,"; hash:",o,"; origin:",e),o!=e?setTimeout(n,5,a,t):console.log("max found!:",r,"; hash:",o,"; origin:",e)})(n),"test"}int(e){const t=172319;return e>t?t:Math.floor(e)}};var ve=new class{write(e,t,n){ye.reset();const a=e.length;for(let t=0;t<a;t++)ye.setInt(e[t].current,e[t].max);return n?(n.compress?ye.code=ye.compress(ye.code):ye.code,n.hash?ye.code=ye.addHash(ye.code,n.hash):ye.code,n.encrypt?ye.code=ye.encrypt(ye.code,t):ye.code):ye.compressAndEncrypt(t),ye.code}read(e,t,n,a){ye.code=e,a?(a.decrypt?ye.code=ye.decrypt(ye.code,n):ye.code,a.dehash?ye.code=ye.removeHash(ye.code,a.dehash):ye.code,a.decompress?ye.code=ye.decompress(ye.code):ye.code):ye.decryptAndDecompress(ye.code,n);let r=t.length-1;for(;r>=0;)t[r].update(ye.getInt(t[r].max)),r--}};class be{constructor(e,t,n=""){this._current=e,this._max=t,this._description=n}update(e){return this._current=e,this}get current(){return this._current}get max(){return this._max}get description(){return this._description}}var xe=new class extends C{setFields(e){this.info=e?.info?[...e.info]:[],this.units=e?.units?[...e.units]:[]}updateAt(e,t,n,a){if("units"!=e&&"number"==typeof n){if(a)return void this[e][t].update(n);const r=[...this[e]];return r[t].update(n),void(this[e]=r)}if("units"==e&&"object"==typeof n){if(a)return n?void this.units[t][n.param].update(n.value):void this.units[t][0].update(0);const r=[...this.units];n?r[t][n.param].update(n.value):r[t][0].update(0),this[e]=r}}setUnit(e,t,n){if(e<0||e>7)throw new Error("RLR4 Store: setUnit: slot is out of range!");t?("number"==typeof t.type&&this.updateAt("units",e,{param:0,value:t.type},n),t.level&&(this.updateAt("units",e,{param:1,value:this._exp[t.level-1]},n),this.updateAt("units",e,{param:7,value:t.level},n),this.updateAt("units",e,{param:8,value:4*t.level},n))):this.updateAt("units",e,null,n)}fromLocalStorage(e){if(!e)return;const t=[];e.units.forEach(((e,n)=>{const a=[];e.forEach(((e,t)=>{a.push(new be(e._current,e._max,e._description))})),t.push(a)})),this.units=t;const n=[];e.info.forEach(((e,t)=>{n.push(new be(e._current,e._max,e._description))})),this.info=n}updateChecksums(e,t){for(let e;e<8;e++)this.updateAt("slots",e,this.units[e][0]?1:0,t);this.updateAt("camera",0,this.sumOfStats,t),this.updateAt("camera",1,this.sumOfUnits+e,t)}reset(){this.init()}get sumOfStats(){let e=0;for(let t=0;t<17;t++)(t<10||t>12)&&(e+=this.info[t].current);return e}get sumOfUnits(){let e=0;return this.units.forEach((t=>{if(t[0].current>0)for(let n=1;n<9;n++)7!=n&&(e+=t[n].current)})),e}init(){this.camera=[new be(0,99e6,"Sum of all stats"),new be(0,98e6,"Sum of all units and account")],this.info=[new be(500,19e4,"Normal games"),new be(25,1e5,"Normal games won"),new be(55,11e4,"Hard games"),new be(5,12e4,"Hard games won"),new be(12e3,903e5,"Total saves"),new be(99999,94e6,"Total score"),new be(2e3,96e6,"Total deaths"),new be(200,15e4,"Boss1 kills"),new be(100,16e4,"Boss2 kills"),new be(25,17e4,"Boss3 kills"),new be(25,18e4,"Insane games"),new be(2,19e4,"Insane games won"),new be(1,2e5,"Not used"),new be(5,21e4,"Time mode games"),new be(1,22e4,"Time mode games won"),new be(99999,23e4,"Minigame high score"),new be(999,24e4,"Time mode best score"),new be(72,1e3,"Distance"),new be(90,1001,"Rotation"),new be(90,1002,"Angle"),new be(1,1003,"Camera follow unit"),new be(0,1004,"Hide tips"),new be(1,1005,"Hud on"),new be(0,1006,"Mini map"),new be(0,1007,"Energy bar"),new be(0,1008,"Exp bar"),new be(0,1009,"Menu"),new be(1,1010,"WASD"),new be(0,10,"Increase distance"),new be(0,11,"Decrease distance"),new be(0,12,"Rotation right"),new be(0,13,"Rotation left"),new be(1,14,"Follow runling")],this.slots=[new be(1,425,"Slot 1"),new be(1,426,"Slot 2"),new be(1,427,"Slot 3"),new be(1,428,"Slot 4"),new be(1,429,"Slot 5"),new be(1,430,"Slot 6"),new be(1,431,"Slot 7"),new be(1,432,"Slot 8")],this.units=[];for(let e=0;e<8;e++)this.units.push([new be(2,3e5,"Unit Type"),new be(3e5,81e5,"Exp"),new be(0,32e4,"Regen"),new be(0,33e4,"Energy"),new be(0,34e4,"Speed"),new be(0,35e4,"Skill 1"),new be(0,36e4,"Skill 2"),new be(75,37e4,"Level"),new be(300,38e4,"Free Points")]);this._exp=[0,2,6,13,24,40,62,92,131,180,240,312,397,498,612,742,889,1054,1238,1442,1667,1914,2184,2478,2797,3142,3514,3914,4343,4802,5292,5814,6369,6958,7582,8242,8939,9674,10448,11262,12117,13014,13954,14938,15969,17042,18164,19334,20553,21820,23140,24512,25937,27416,28950,30540,32187,33892,35656,37480,39365,41312,43322,45396,47535,49739,52009,54346,56751,59225,61769,64384,67072,69834,72671]}get isUnitsCorrect(){return this.units.forEach((e=>{const t=e[2].current+e[3].current+e[4].current+e[8].current+4*(e[5].current+e[6].current);if(t<0||t>300)throw new Error("Points out of range (0-300)!");if(e[0].current<1||e[0].current>5)throw new Error("Undefined unit type! Use 1, 2, 3, 4 or 5");if(e[7].current<1||e[7].current>75)throw new Error("Unit level out of range (1-75)!");if(4*e[7].current!=t)throw new Error("level or scores are incorrect!");if(e[2].current>200||e[3].current>200||e[4].current>200)throw new Error("Energy, regen, speed: 200 max");if(e[5].current>20||e[6].current>20)throw new Error("Skill: 20 max")})),!0}};var Se=new class{constructor(){this.STARCODE_KEY="WalkerKey"}generateXML(e){return xe.updateChecksums(e.info.getPlayerNumber(),!0),xe.units.forEach(((t,n)=>{t[0].current>0&&e.addKey("0"+(n+1),"STRING",ve.write(t,this.STARCODE_KEY),"unit")})),e.addKey("info","STRING",ve.write(xe.slots,this.STARCODE_KEY),"unit"),e.addKey("info","STRING",ve.write(xe.info,this.STARCODE_KEY),"account"),e.addKey("camera","STRING",ve.write(xe.camera,this.STARCODE_KEY),"account"),e.sort(),e.updateSignature(),e.getAsString()}parse(e,t){if(e.parse(t),2!=e.sections.size||null==e.sections.get("unit")||null==e.sections.get("account"))return console.error("wrong bank file!"),null;const n=[];for(let e=0;e<8;e++)n.push([...xe.units[e]]);for(let t=0;t<8;t++){const a=e.getKey("0"+(t+1),"unit")?.value;a?ve.read(a,n[t],this.STARCODE_KEY):n[t][0].update(0)}const a=[...xe.info];return ve.read(e.getKey("info","account").value,a,this.STARCODE_KEY),{info:a,units:n}}};const Ce=t.observer((t=>{const{accountStore:a,menuStore:r,mapStore:s,modalStore:o}=I(),[i,l]=e.useState(t.bankName),[u,c]=e.useState(tt.get($e.RUNLING_RUN_4).authorID),h=tt.get($e.RUNLING_RUN_4).title,p=e.useMemo((()=>new ue(i,u,r.playerID,"1")),[a.current,r.playerID,i,u]),g=e.useMemo((()=>[{value:"0",label:"Empty"},{value:"1",label:"Ling"},{value:"2",label:"Bane"},{value:"3",label:"Hydra"},{value:"4",label:"Ultra"},{value:"5",label:"Roach"}]),[]);e.useEffect((()=>{const e=s.list[a.current]?.[h];e?xe.fromLocalStorage(e):setTimeout(f.onResetClick)}),[a.current]);const m=()=>{s.setMapData(a.current,h,{units:xe.units,info:xe.info})},f={onBankNameChange:e.useCallback((e=>{l(e)}),[]),onAuthorIdChange:e.useCallback((e=>{c(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{const a=Se.parse(p,t);a&&(n.flushSync((()=>xe.setFields())),xe.setFields(a))}),[]),onDownloadClick:e.useCallback((()=>{4==r.playerID.split("-").length?(b(Se.generateXML(p),i+".SC2Bank",!0),r.autoSave||m()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onCopyCodeClick:e.useCallback((()=>{4==r.playerID.split("-").length?(v(Se.generateXML(p),!0),r.autoSave||m()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onResetClick:e.useCallback((()=>{l(t.bankName),c(tt.get($e.RUNLING_RUN_4).authorID),n.flushSync((()=>xe.setFields())),xe.reset()}),[]),onUnitTypeChange:e.useCallback(((e,t)=>{xe.setUnit(t,{type:parseInt(e)},!0),r.autoSave&&m()}),[]),onUnitLevelChange:e.useCallback(((e,t)=>{xe.setUnit(t,{level:parseInt(e)},!0),r.autoSave&&m()}),[]),onStatChange:e.useCallback(((e,t)=>{xe.updateAt("info",t,parseInt(e),!0),r.autoSave&&m()}),[]),onSettingChange:e.useCallback(((e,t)=>{xe.updateAt("info",t,t<20?parseInt(e):e?1:0,!0),r.autoSave&&m()}),[])},y=e.useMemo((()=>d.jsx(D,{style:{flexFlow:"column",padding:"0",justifyContent:"space-around",border:"1px solid #ffffff40"},children:xe.units.map(((e,t)=>d.jsxs(D,{style:{flexDirection:"row",padding:"10px"},children:[d.jsx(fe,{label:"Slot "+(t+1)+":",index:t,style:{width:"90px"},onChange:f.onUnitTypeChange,selected:e[0].current.toString(),children:g}),d.jsx(L,{label:"Level:",index:t,type:"number",min:"1",style:{width:"30px"},onChange:f.onUnitLevelChange,max:"75",tip:"Level of unit (1-75)",value:e[7].current.toString()})]})))})),[xe.units]),x=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(D,{style:{flexDirection:"column",padding:"10px",border:"1px solid #ffffff40"},alignInputs:!0,children:xe.info.map(((e,t)=>12!=t&&t<17?d.jsx(L,{label:e.description+":",index:t,type:"number",min:"0",style:{width:"45px"},onChange:f.onStatChange,max:e.max.toString(),value:e.current.toString()}):null))}),d.jsx(D,{style:{flexDirection:"column",padding:"10px",border:"1px solid #ffffff40"},alignInputs:!0,children:xe.info.map(((e,t)=>t<17?null:t<20?d.jsx(L,{label:e.description+":",index:t,type:"number",min:"1",style:{width:"45px"},onChange:f.onSettingChange,max:e.max.toString(),value:e.current.toString()}):d.jsx(me,{label:e.description+":",index:t,onChange:f.onSettingChange,value:1==e.current})))})]})),[xe.info]),S=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row",padding:"0"},children:[y,x]})),[xe.units,xe.info]);return d.jsx(he,{bankName:i,authorID:u,onBankNameChange:f.onBankNameChange,onAuthorIdChange:f.onAuthorIdChange,onFileDrop:f.onFileDrop,onDownload:f.onDownloadClick,onCopy:f.onCopyCodeClick,onReset:f.onResetClick,children:S})}));var we=e.memo(Ce);var je=new class extends C{setFields(e){this.info=e?.info?[...e.info]:[],this.units=e?.units?[...e.units]:[]}updateAt(e,t,n,a){if("units"!=e&&"number"==typeof n){if(a)return void this[e][t].update(n);const r=[...this[e]];return r[t].update(n),void(this[e]=r)}if("units"==e&&"object"==typeof n){if(a)return n?void this.units[t][n.param].update(n.value):void this.units[t][0].update(0);const r=[...this.units];n?r[t][n.param].update(n.value):r[t][0].update(0),this[e]=r}}setUnit(e,t,n){if(e<0||e>7)throw new Error("RLR8 Store: setUnit: slot is out of range!");t?("number"==typeof t.type&&this.updateAt("units",e,{param:0,value:t.type},n),t.level&&(this.updateAt("units",e,{param:1,value:this._exp[t.level-1]},n),this.updateAt("units",e,{param:7,value:t.level},n),this.updateAt("units",e,{param:8,value:4*t.level},n))):this.updateAt("units",e,null,n)}fromLocalStorage(e){if(!e)return;const t=[];e.units.forEach(((e,n)=>{const a=[];e.forEach(((e,t)=>{a.push(new be(e._current,e._max,e._description))})),t.push(a)})),this.units=t;const n=[];e.info.forEach(((e,t)=>{n.push(new be(e._current,e._max,e._description))})),this.info=n}updateChecksums(e,t){for(let e;e<8;e++)this.updateAt("slots",e,this.units[e][0]?1:0,t);this.updateAt("camera",0,this.sumOfStats,t),this.updateAt("camera",1,this.sumOfUnits+e,t),this.updateAt("set2",0,e,t)}reset(){this.init()}get sumOfStats(){let e=0;for(let t=0;t<16;t++)(t<10||t>12)&&(e+=this.info[t].current);return e}get sumOfUnits(){let e=0;return this.units.forEach((t=>{if(t[0].current>0)for(let n=1;n<9;n++)7!=n&&(e+=t[n].current)})),e}init(){this.camera=[new be(0,99e6,"Sum of all stats"),new be(0,98e6,"Sum of all units and account")],this.info=[new be(500,9e4,"Normal games"),new be(25,1e5,"Normal games won"),new be(55,11e4,"Hard games"),new be(5,12e4,"Hard games won"),new be(12e3,93e6,"Total saves"),new be(99999,94e6,"Total score"),new be(2e3,96e6,"Total deaths"),new be(200,15e4,"Boss1 kills"),new be(100,16e4,"Boss2 kills"),new be(25,17e4,"Boss3 kills"),new be(25,18e4,"Insane games"),new be(2,19e4,"Insane games won"),new be(1,2e5,"Not used"),new be(10,21e4,"Chaos mode games"),new be(1,22e4,"Chaos mode games won"),new be(25,23e4,"Prestige"),new be(72,1e3,"Distance"),new be(90,1001,"Rotation"),new be(90,1002,"Angle"),new be(1,1003,"Camera follow unit"),new be(0,1004,"Hide tips"),new be(1,1005,"Hud on"),new be(0,1006,"Mini map"),new be(0,1007,"Energy bar"),new be(0,1008,"Exp bar"),new be(0,1009,"Menu"),new be(1,1010,"WASD"),new be(0,10,"Increase distance"),new be(0,11,"Decrease distance"),new be(0,12,"Rotation right"),new be(0,13,"Rotation left"),new be(1,14,"Follow runling")],this.slots=[new be(1,425,"Slot 1"),new be(1,426,"Slot 2"),new be(1,427,"Slot 3"),new be(1,428,"Slot 4"),new be(1,429,"Slot 5"),new be(1,430,"Slot 6"),new be(1,431,"Slot 7"),new be(1,432,"Slot 8")],this.units=[];for(let e=0;e<8;e++)this.units.push([new be(e+1,3e5,"Unit Type"),new be(2e5,81e5,"Exp"),new be(0,32e4,"Regen"),new be(0,33e4,"Energy"),new be(0,34e4,"Speed"),new be(0,35e4,"Skill 1"),new be(0,36e4,"Skill 2"),new be(100,37e4,"Level"),new be(400,38e4,"Free Points")]);this.set2=[new be(0,97e6,"PlayerID numeric part")],this._exp=[0,3,10,22,40,65,98,140,192,255,330,418,520,637,770,920,1088,1275,1482,1710,1960,2233,2530,2852,3200,3575,3978,4410,4872,5365,5890,6448,7040,7667,8330,9030,9768,10545,11362,12220,13120,14063,15095,16173,17298,18471,19693,20965,22288,23663,25091,26573,28110,29703,31353,33061,34828,36655,38543,40493,42506,44583,46725,48933,51208,53551,55963,58445,60998,63623,66321,69093,72016,75016,78094,81251,84488,87806,91206,94689,98256,101908,105646,109471,113384,117386,121478,125661,129936,134304,138766,143323,147976,152726,157574,162521,167568,172716,177966,183319]}get isUnitsCorrect(){return this.units.forEach((e=>{const t=e[2].current+e[3].current+e[4].current+e[8].current+4*(e[5].current+e[6].current);if(t<0||t>400)throw new Error("Points out of range (0-300)!");if(e[0].current<0||e[0].current>8)throw new Error("Undefined unit type! Use 0, 1, 2, 3, 4, 5, 6, 7, 8");if(e[7].current<1||e[7].current>100)throw new Error("Unit level out of range (1-100)!");if(4*e[7].current!=t)throw new Error("level or scores are incorrect!");if(e[2].current>200||e[3].current>200||e[4].current>200)throw new Error("Energy, regen, speed: 200 max");if(e[5].current>20||e[6].current>20)throw new Error("Skill: 20 max")})),!0}};var Ie=new class{constructor(){this.STARCODE_KEY="Ks8N10dj6L3M"}generateXML(e){return je.updateChecksums(e.info.getPlayerNumber(),!0),je.units.forEach(((t,n)=>{t[0].current>0&&e.addKey("0"+(n+1),"STRING",ve.write(t,this.STARCODE_KEY),"unit")})),e.addKey("info","STRING",ve.write(je.slots,this.STARCODE_KEY),"unit"),e.addKey("info","STRING",ve.write(je.info,this.STARCODE_KEY),"account"),e.addKey("camera","STRING",ve.write(je.camera,this.STARCODE_KEY),"account"),e.addKey("set2","STRING",ve.write(je.set2,this.STARCODE_KEY),"account"),e.sort(),e.updateSignature(),e.getAsString()}parse(e,t){if(e.parse(t),2!=e.sections.size||null==e.sections.get("unit")||null==e.sections.get("account"))return console.error("wrong bank file!"),null;const n=[];for(let e=0;e<8;e++)n.push([...je.units[e]]);for(let t=0;t<8;t++){const a=e.getKey("0"+(t+1),"unit")?.value;a?ve.read(a,n[t],this.STARCODE_KEY):n[t][0].update(0)}const a=[...je.info];return ve.read(e.getKey("info","account").value,a,this.STARCODE_KEY),{info:a,units:n}}};const ke=t.observer((t=>{const{accountStore:a,menuStore:r,mapStore:s,modalStore:o}=I(),[i,l]=e.useState(t.bankName),[u,c]=e.useState(tt.get($e.RUNLING_RUN_8).authorID),h=tt.get($e.RUNLING_RUN_8).title,p=e.useMemo((()=>new ue(i,u,r.playerID,"1")),[a.current,r.playerID,i,u]),g=e.useMemo((()=>[{value:"0",label:"Empty"},{value:"1",label:"Ling"},{value:"2",label:"Bane"},{value:"3",label:"Hydra"},{value:"4",label:"Ultra"},{value:"5",label:"Roach"},{value:"6",label:"Impaler"},{value:"7",label:"Infested"},{value:"8",label:"Drone"}]),[]);e.useEffect((()=>{const e=s.list[a.current]?.[h]?.ilovepie;e?je.fromLocalStorage(e):setTimeout(f.onResetClick)}),[a.current]);const m=()=>{const e=s.list[a.current]?.[h]?.prestige;s.setMapData(a.current,h,{ilovepie:{units:je.units,info:je.info},prestige:e})},f={onBankNameChange:e.useCallback((e=>{l(e)}),[]),onAuthorIdChange:e.useCallback((e=>{c(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{const a=Ie.parse(p,t);a&&(n.flushSync((()=>je.setFields())),je.setFields(a))}),[]),onDownloadClick:e.useCallback((()=>{4==r.playerID.split("-").length?(b(Ie.generateXML(p),i+".SC2Bank",!0),r.autoSave||m()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onCopyCodeClick:e.useCallback((()=>{4==r.playerID.split("-").length?(v(Ie.generateXML(p),!0),r.autoSave||m()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onResetClick:e.useCallback((()=>{l(t.bankName),c(tt.get($e.RUNLING_RUN_8).authorID),n.flushSync((()=>je.setFields())),je.reset()}),[]),onUnitTypeChange:e.useCallback(((e,t)=>{je.setUnit(t,{type:parseInt(e)},!0),r.autoSave&&m()}),[]),onUnitLevelChange:e.useCallback(((e,t)=>{je.setUnit(t,{level:parseInt(e)},!0),r.autoSave&&m()}),[]),onStatChange:e.useCallback(((e,t)=>{je.updateAt("info",t,parseInt(e),!0),r.autoSave&&m()}),[]),onSettingChange:e.useCallback(((e,t)=>{je.updateAt("info",t,t<19?parseInt(e):e?1:0,!0),r.autoSave&&m()}),[])},[y,x,S,C]=e.useMemo((()=>[{flexDirection:"row",padding:"10px"},{width:"90px"},{width:"30px"},{width:"45px"}]),[]),w=e.useMemo((()=>d.jsx(D,{style:{flexFlow:"column",padding:"0",justifyContent:"space-around",border:"1px solid #ffffff40"},children:je.units.map(((e,t)=>d.jsxs(D,{style:y,children:[d.jsx(fe,{label:"Slot "+(t+1)+":",index:t,style:x,onChange:f.onUnitTypeChange,selected:e[0].current.toString(),children:g}),d.jsx(L,{label:"Level:",index:t,type:"number",min:"1",style:S,onChange:f.onUnitLevelChange,max:"100",placeholder:"Level of unit (1-100)",value:e[7].current.toString()})]})))})),[je.units]),j=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(D,{style:{flexDirection:"column",padding:"10px",border:"1px solid #ffffff40"},alignInputs:!0,children:je.info.map(((e,t)=>12!=t&&t<16?d.jsx(L,{label:e.description+":",index:t,type:"number",min:"0",style:C,onChange:f.onStatChange,max:e.max.toString(),value:e.current.toString()}):null))}),d.jsx(D,{style:{flexDirection:"column",padding:"10px",border:"1px solid #ffffff40"},alignInputs:!0,children:je.info.map(((e,t)=>t<16?null:t<19?d.jsx(L,{label:e.description+":",index:t,type:"number",min:"1",style:C,onChange:f.onSettingChange,max:e.max.toString(),value:e.current.toString()}):d.jsx(me,{label:e.description+":",index:t,onChange:f.onSettingChange,value:1==e.current})))})]})),[je.info]),k=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row",padding:"0"},children:[w,j]})),[je.units,je.info]);return d.jsx(he,{bankName:i,authorID:u,onBankNameChange:f.onBankNameChange,onAuthorIdChange:f.onAuthorIdChange,onFileDrop:f.onFileDrop,onDownload:f.onDownloadClick,onCopy:f.onCopyCodeClick,onReset:f.onResetClick,children:k})}));var De=e.memo(ke);var Ae=new class extends C{setFields(e){this.active=!!e?.active&&e.active,this.hide=!!e?.hide&&e.hide}updateAt(e,t){this[e]=t}reset(){this.init()}init(){this.active=!1,this.hide=!1}};var Ne=new class{generateXML(e){return e.addKey("Active","STRING",Ae.active?"1":"0","HUD"),e.addKey("Hide","STRING",Ae.hide?"1":"0","HUD"),e.getAsString()}parse(e,t){if(e.parse(t),1!=e.sections.size||null==e.sections.get("HUD"))throw new Error("Wrong bank file!");return{active:"1"==e.getKey("Active","HUD").value,hide:"1"==e.getKey("Hide","HUD").value}}};const Ee=t.observer((t=>{const{accountStore:n,mapStore:a,menuStore:r}=I(),[s,o]=e.useState(t.bankName),[i,l]=e.useState(tt.get($e.RUNLING_RUN_8).authorID),u=tt.get($e.RUNLING_RUN_8).title,c=e.useMemo((()=>new ue(s,i,r.playerID,"1")),[n.current,r.playerID,s,i]);e.useEffect((()=>{const e=a.list[n.current]?.[u]?.prestige;e?Ae.setFields(e):setTimeout(p.onResetClick)}),[n.current]);const h=()=>{const e=a.list[n.current]?.[u]?.ilovepie;a.setMapData(n.current,u,{ilovepie:e,prestige:{active:Ae.active,hide:Ae.hide}})},p={onBankNameChange:e.useCallback((e=>{o(e)}),[]),onAuthorIdChange:e.useCallback((e=>{l(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{Ae.setFields(Ne.parse(c,t))}),[]),onDownloadClick:e.useCallback((()=>{b(Ne.generateXML(c),s+".SC2Bank",!0),r.autoSave||h()}),[c]),onCopyCodeClick:e.useCallback((()=>{v(Ne.generateXML(c),!0),r.autoSave||h()}),[c]),onResetClick:e.useCallback((()=>{o(t.bankName),l(tt.get($e.RUNLING_RUN_8).authorID),Ae.reset()}),[]),onSettingChange:e.useCallback(((e,t)=>{0==t?Ae.updateAt("active",e):Ae.updateAt("hide",e),r.autoSave&&h()}),[])},g=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"column"},children:[d.jsx(A,{children:"This bank file is for HUD only"}),d.jsxs(D,{style:{flexDirection:"row",padding:"10px"},children:[d.jsx(me,{label:"Active:",index:0,onChange:p.onSettingChange,value:Ae.active}),d.jsx(me,{label:"Hide:",index:1,onChange:p.onSettingChange,value:Ae.hide})]})]})),[Ae.active,Ae.hide]);return d.jsx(he,{bankName:s,authorID:i,onBankNameChange:p.onBankNameChange,onAuthorIdChange:p.onAuthorIdChange,onFileDrop:p.onFileDrop,onDownload:p.onDownloadClick,onCopy:p.onCopyCodeClick,onReset:p.onResetClick,children:g})}));var Te=e.memo(Ee);var _e=new class{constructor(){this.data=""}reset(){this.data=""}addInt(e){if(e<0)throw new Error("SSF Storage Error! Value negative.");const t=e.toString(),n=t.length;this.data+=n>9?"9999999999":n+t}addBool(e){this.data+=e?"1":"0"}getInt(){if(""==this.data)throw new Error("SSF Storage Error! Empty data.");let e=this.data.substring(0,1);const t=parseInt(e);if(0==t||t>this.data.length)throw new Error("SSF Storage Error! Wrong length: "+t+"; use data length: 1-"+this.data.length);return e=this.data.substring(1,t+1),this.data=this.data.substring(t+1),parseInt(e)}getBool(){if(""==this.data)throw new Error("SSF Storage Error! Empty data.");const e=this.data.substring(0,1);if("0"!=e&&"1"!=e)throw new Error("SSF Storage Error! Expected boolean (0 or 1).");return this.data=this.data.substring(1),"1"==e}};var Me=new class extends C{setFields(e){this.light=e?.light?[...e.light]:[],this.heavy=e?.heavy?[...e.heavy]:[],this.speed=e?.speed?[...e.speed]:[],this.options=e?.options?[...e.options]:[],this.bools=e?.bools?[...e.bools]:[]}updateAt(e,t,n,a){if("speed"!=e&&"number"==typeof t){if(a)return void(this[e][t].value=n);const r=[...this[e]];return r[t].value=n,void(this[e]=r)}if("speed"==e&&"object"==typeof t){if(a)return void(this.speed[t.i][t.j][t.k].value=n);const r=[...this.speed];r[t.i][t.j][t.k].value=n,this[e]=r}if("bools"==e&&"object"==typeof t){if(a)return void(this.bools[t.i].flags[t.j].value=n);const r=[...this.bools];r[t.i].flags[t.j].value=n,this[e]=r}}reset(){this.init()}init(){this.light=[],this.heavy=[],this.speed=[],this.options=[],this.bools=[{part:0,offset:0,name:"Flamer",flags:[]},{part:0,offset:1,name:"Hammer",flags:[]},{part:0,offset:2,name:"Fortress",flags:[]},{part:1,offset:0,name:"Madness",flags:[]},{part:1,offset:1,name:"Atlantis",flags:[]},{part:1,offset:2,name:"Lightning",flags:[]},{part:1,offset:3,name:"Thunder",flags:[]},{part:2,offset:0,name:"Raynor",flags:[]},{part:2,offset:1,name:"Kerrigan",flags:[]},{part:2,offset:2,name:"Artanis",flags:[]},{part:2,offset:3,name:"Cybermind",flags:[]},{part:3,offset:0,name:"Gary",flags:[]},{part:3,offset:1,name:"Stetmann",flags:[]},{part:3,offset:2,name:"Moopy",flags:[]},{part:0,name:"FlawlessT",flags:[]},{part:1,name:"FlawlessP",flags:[]},{part:2,name:"FlawlessM",flags:[]}]}};var Re=new class{constructor(){this.STARCODE_PART="gehkaggen11",this.STARCODE_HASH=4,this.VERSION=2011}generateDefault(e){const t=e||g(5e5,9e6),n=[{type:"number",value:t,description:"Kills"},{type:"number",value:Math.floor(t/g(180,220)),description:"Points"},{type:"number",value:Math.floor(t/g(3200,3500)),description:"Scientists"},{type:"number",value:Math.floor(t/g(1500,1800)),description:"Essences"},{type:"number",value:Math.floor(t/g(8e3,12e3)),description:"Psi Orbs"},{type:"number",value:Math.floor(t/g(14e3,16e3)),description:"MoopyHats"}],a=[];for(let e=0;e<3;e++){const n=Math.floor(t/g(1200*(e+1),2e3*(e+1)));a.push({type:"number",value:n,description:"Wins "+(e+1)})}for(let e=0;e<4;e++)a.push({type:"number",value:0,description:"Boss "+(e+1)+" crypted",hidden:!0});a.push({type:"number",value:0,description:"Flawless crypted",hidden:!0},{type:"boolean",value:!0,description:"Tutorial"},{type:"number",value:g(0,10),description:"ArchivedAcv"});const r=[];for(let e=0;e<6;e++){r.push([]);for(let t=0;t<3;t++){r[e].push([]);for(let n=0;n<2;n++)r[e][t].push({type:"string",value:f(g(250,500)*Math.pow(e+1,1.5)/(n+1)),description:"time "})}}const s=[...Me.bools],o=s.length;for(let e=0;e<o;e++)s[e].flags=this.makeSixBoolsFor(s[e].name);return{light:n,heavy:a,speed:r,options:[{type:"number",value:0,description:"Hero type",hidden:!0},{type:"boolean",value:!1,description:"Hero selected",hidden:!0},{type:"boolean",value:!1,description:"Speedrun details",hidden:!0},{type:"boolean",value:!0,description:"Hero panel"},{type:"boolean",value:!1,description:"Hive panel"},{type:"number",value:0,description:"Unit selection",hidden:!0},{type:"boolean",value:!0,description:"Control group 1b",hidden:!0},{type:"number",value:1,description:"Control group 1n",hidden:!0},{type:"boolean",value:!0,description:"Control group 2b",hidden:!0},{type:"number",value:2,description:"Control group 2n",hidden:!0},{type:"boolean",value:!0,description:"Control group 3b",hidden:!0},{type:"number",value:3,description:"Control group 3n",hidden:!0},{type:"boolean",value:!0,description:"Control group 4b",hidden:!0},{type:"number",value:3,description:"Control group 4n",hidden:!0},{type:"boolean",value:!0,description:"Control group 5b",hidden:!0},{type:"number",value:3,description:"Control group 5n",hidden:!0}],bools:s}}parse(e,t){if(e.parse(t),1!=e.sections.size||!e.sections.has("stats"))return console.error("Wrong bank file!"),null;this.reloadStorage(e,"lightData");const n=[{type:"number",value:_e.getInt(),description:"Kills"},{type:"number",value:_e.getInt(),description:"Points"},{type:"number",value:_e.getInt(),description:"Scientists"},{type:"number",value:_e.getInt(),description:"Essences"},{type:"number",value:_e.getInt(),description:"Psi Orbs"},{type:"number",value:_e.getInt(),description:"MoopyHats"}];if(_e.getInt(),_e.getInt()!=this.VERSION)throw new Error("Invaliid version in lightData");this.reloadStorage(e,"heavyData");const a=[];for(let e=0;e<3;e++)a.push({type:"number",value:_e.getInt(),description:"Wins "+(e+1)});for(let e=0;e<4;e++)a.push({type:"number",value:_e.getInt(),description:"Boss "+(e+1)+" crypted",hidden:!0});if(a.push({type:"number",value:_e.getInt(),description:"Flawless crypted",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Tutorial"},{type:"number",value:_e.getInt(),description:"ArchivedAcv"}),_e.getInt(),_e.getInt()!=this.VERSION)throw new Error("Invaliid version in heavyData");this.reloadStorage(e,"speedrunsData");const r=[];for(let e=0;e<6;e++){r.push([]);for(let t=0;t<3;t++){r[e].push([]);let n=0,a=0;for(let e=0;e<6;e++){const t=_e.getInt();e<4?n=Math.max(n,t):a=Math.max(a,t)}r[e][t].push({type:"string",value:f(n),description:"time "}),r[e][t].push({type:"string",value:f(a),description:"time "})}}if(_e.getInt(),_e.getInt()!=this.VERSION)throw new Error("Invaliid version in speedrunsData");_e.data=e.getKey("options","stats").value;return{light:n,heavy:a,speed:r,options:[{type:"number",value:_e.getInt(),description:"Hero type",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Hero selected",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Speedrun details",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Hero panel"},{type:"boolean",value:_e.getBool(),description:"Hive panel"},{type:"number",value:_e.getInt(),description:"Unit selection",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Control group 1b",hidden:!0},{type:"number",value:_e.getInt(),description:"Control group 1n",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Control group 2b",hidden:!0},{type:"number",value:_e.getInt(),description:"Control group 2n",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Control group 3b",hidden:!0},{type:"number",value:_e.getInt(),description:"Control group 3n",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Control group 4b",hidden:!0},{type:"number",value:_e.getInt(),description:"Control group 4n",hidden:!0},{type:"boolean",value:_e.getBool(),description:"Control group 5b",hidden:!0},{type:"number",value:_e.getInt(),description:"Control group 5n",hidden:!0}],bools:Me.bools}}generateXML(e){e.addSection("stats"),e.addKey("version","FIXED","2.01","stats"),_e.reset();for(let e=0;e<6;e++)_e.addInt(Me.light[e].value);_e.addInt(g(1,500)),_e.addInt(this.VERSION),e.addKey("lightData","STRING",this.storageToSC(),"stats"),_e.reset();for(let e=0;e<10;e++)"number"==Me.heavy[e].type?_e.addInt(Me.heavy[e].value):_e.addBool(Me.heavy[e].value);_e.addInt(g(1,500)),_e.addInt(this.VERSION),e.addKey("heavyData","STRING",this.storageToSC(),"stats"),_e.reset();for(let e=0;e<6;e++)for(let t=0;t<3;t++)for(let n=0;n<6;n++)_e.addInt(m(n<4?Me.speed[e][t][0].value:Me.speed[e][t][1].value));_e.addInt(g(1,500)),_e.addInt(this.VERSION),e.addKey("speedrunsData","STRING",this.storageToSC(),"stats"),_e.reset();for(let e=0;e<6;e++)e>0&&e<5?_e.addBool(Me.options[e].value):_e.addInt(Me.options[e].value);for(let e=0;e<10;e+=2)_e.addBool(Me.options[e+6].value),_e.addInt(Me.options[e+7].value);return e.addKey("options","STRING",_e.data,"stats"),e.sort(),e.updateSignature(),e.getAsString()}recryptAchives(){const e=[0,0,0,0,0];for(let t=0;t<6;t++)for(let n=0;n<14;n++)1==Me.bools[n].flags[t].value&&(e[Me.bools[n].part]^=1<<t+6*Me.bools[n].offset);for(let t=0;t<6;t++)for(let n=14;n<17;n++)1==Me.bools[n].flags[t].value&&(e[4]^=1<<t+6*Me.bools[n].part);for(let t=0;t<4;t++)Me.updateAt("heavy",t+3,e[t],!0);Me.updateAt("heavy",7,e[4],!0)}updateKey(e){this._scKey=e+this.STARCODE_PART}storageToSC(){return ye.encrypt(ye.addHash(ye.compress(_e.data),this.STARCODE_HASH),this._scKey)}reloadStorage(e,t,n="stats"){let a=ye.decrypt(e.getKey(t,n).value,this._scKey);if(!ye.validate(a,this.STARCODE_HASH))throw new Error("Invaliid data in "+n+" → "+t+"!");a=ye.decompress(ye.removeHash(a,this.STARCODE_HASH)),_e.data=a}makeSixBoolsFor(e){const t=["Easy","Normal","Hard","Brutal","Insane","Hardcore"],n=[];for(let a=0;a<6;a++)n.push({type:"boolean",value:Math.random()>.5,description:e+" "+t[a]});return n}};var Fe=e.memo((t=>{const n=t.array[0].description.split(" ")[0],a={onChange:e.useCallback(((e,n)=>{t.onChange(t.i,n,e)}),[])};return d.jsxs(D,{style:{flexDirection:"row",justifyContent:"space-between",width:"200px"},children:[d.jsx(O,{children:n+":"}),d.jsx(D,{style:{flexDirection:"row",justifyContent:"flex-end"},children:t.array.map(((e,t)=>d.jsx(me,{index:t,onChange:a.onChange,value:e.value,style:{margin:"4px -3px -4px -3px"}})))})]})}));var Oe=e.memo((t=>{const n={onFieldChange:e.useCallback(((e,n)=>{t.onChange(t.i,t.j,n,e)}),[])};return d.jsxs(D,{style:{flexDirection:"column"},children:[t.j>0?d.jsx("br",{}):null,d.jsx(D,{style:{flexDirection:"column"},children:t.array.map(((e,t)=>e.hidden?null:d.jsx(L,{index:t,type:"text",style:{width:"70px"},onChange:n.onFieldChange,value:e.value.toString()})))})]})}));var Pe=e.memo((e=>{let t;switch(e.i){case 0:t="Easy";break;case 1:t="Normal";break;case 2:t="Hard";break;case 3:t="Brutal";break;case 4:t="Insane";break;case 5:t="Hardcore"}return d.jsxs(D,{style:{flexDirection:"column"},children:[d.jsx(O,{children:t+":"}),d.jsx(D,{style:{flexDirection:"column"},children:e.array.map(((t,n)=>d.jsx(Oe,{onChange:e.onChange,array:t,i:e.i,j:n})))})]})}));const Ke=t.observer((t=>{const{accountStore:a,menuStore:r,mapStore:s,modalStore:o}=I(),[i,l]=e.useState(t.bankName),[u,c]=e.useState(tt.get($e.SWARM_SCPECIAL_FORCES).authorID),h=tt.get($e.SWARM_SCPECIAL_FORCES).title,p=e.useMemo((()=>new ue(i,u,r.playerID,"1")),[a.current,r.playerID,i,u]);e.useEffect((()=>{Re.updateKey(r.playerID)}),[p]),e.useEffect((()=>{const e=s.list[a.current]?.[h];n.flushSync((()=>Me.setFields())),e?setTimeout((()=>Me.setFields(e))):setTimeout((()=>{Me.reset(),Me.setFields(Re.generateDefault())}))}),[a.current]);const g=()=>{s.setMapData(a.current,h,{light:Me.light,heavy:Me.heavy,speed:Me.speed,options:Me.options,bools:Me.bools})},m={onBankNameChange:e.useCallback((e=>{l(e)}),[]),onAuthorIdChange:e.useCallback((e=>{c(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{const a=Re.parse(p,t);a&&(n.flushSync((()=>Me.setFields())),Me.setFields(a))}),[]),onDownloadClick:e.useCallback((()=>{4==r.playerID.split("-").length?(Re.recryptAchives(),b(Re.generateXML(p),i+".SC2Bank",!0),r.autoSave||g()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onCopyCodeClick:e.useCallback((()=>{4==r.playerID.split("-").length?(Re.recryptAchives(),v(Re.generateXML(p),!0),r.autoSave||g()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onResetClick:e.useCallback((()=>{l(t.bankName),c(tt.get($e.SWARM_SCPECIAL_FORCES).authorID),n.flushSync((()=>Me.reset())),Me.setFields(Re.generateDefault())}),[]),onFieldChange:e.useCallback(((e,t,n)=>{switch(n){case"lightData":Me.updateAt("light",t,parseInt(e),!0);break;case"heavyData":Me.updateAt("heavy",t,"number"==Me.heavy[t].type?parseInt(e):e,!0);break;case"options":Me.updateAt("options",t,"number"==Me.heavy[t].type?parseInt(e):e,!0)}r.autoSave&&g()}),[]),onSpeedrunsChange:e.useCallback(((e,t,n,a)=>{Me.updateAt("speed",{i:e,j:t,k:n},a,!0),r.autoSave&&g()}),[]),onBoolsChange:e.useCallback(((e,t,n)=>{Me.updateAt("bools",{i:e,j:t},n,!0),r.autoSave&&g()}),[])},f=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(O,{children:"Please note that the map has a votekick system."}),d.jsxs(A,{style:{width:"1000px"},children:["If other players suspect inconsistencies in your stats or values like 9999999, you can be kicked from the lobby.",d.jsx("br",{}),"To prevent this, use ",d.jsx("b",{children:"Reset"})," button to generate random realistic statistics.",d.jsx("br",{})]})]})),[]),y=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(O,{children:"Main stats:"}),d.jsxs(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px"},children:[d.jsx(D,{style:{flexDirection:"column"},alignInputs:!0,children:Me.light.map(((e,t)=>e.hidden?null:d.jsx(L,{label:e.description+":",index:t,group:"lightData",type:"number",min:"0",style:{width:"75px"},onChange:m.onFieldChange,max:"999999999",value:e.value.toString()})))}),d.jsx(D,{style:{flexDirection:"column"},alignInputs:!0,children:Me.heavy.map(((e,t)=>e.hidden?null:"number"==e.type?d.jsx(L,{label:e.description+":",index:t,group:"heavyData",type:"number",min:"0",style:{width:"75px"},onChange:m.onFieldChange,max:"999999999",value:e.value.toString()}):d.jsx(me,{label:e.description+":",index:t,group:"heavyData",onChange:m.onFieldChange,value:e.value})))})]})]})),[Me.light,Me.heavy]),x=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(O,{style:{marginTop:"15px"},children:"Options:"}),d.jsx(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px"},alignInputs:!0,children:Me.options.map(((e,t)=>e.hidden?null:"number"==e.type?d.jsx(L,{label:e.description+":",index:t,group:"options",type:"number",min:"0",style:{width:"30px"},onChange:m.onFieldChange,max:"999",value:e.value.toString()}):d.jsx(me,{label:e.description+":",index:t,group:"options",onChange:m.onFieldChange,value:e.value})))})]})),[Me.options]),S=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(O,{children:"Speedruns:"}),d.jsxs(D,{style:{flexDirection:"row",border:"1px solid #ffffff40",padding:"10px"},children:[d.jsxs(D,{style:{flexDirection:"column",marginTop:"5px"},children:[d.jsx(O,{style:{marginTop:"45px"},children:"Terran:"}),d.jsx(O,{style:{marginTop:"45px"},children:"Protoss:"}),d.jsx(O,{style:{marginTop:"45px"},children:"Mecha:"})]}),d.jsxs(D,{style:{flexDirection:"column",margin:"32px 0 0 20px"},children:[d.jsx(O,{children:"Solo:"}),d.jsx(O,{children:"Team:"}),d.jsx(O,{style:{marginTop:"20px"},children:"Solo:"}),d.jsx(O,{children:"Team:"}),d.jsx(O,{style:{marginTop:"20px"},children:"Solo:"}),d.jsx(O,{children:"Team:"})]}),d.jsx(d.Fragment,{children:Me.speed.map(((e,t)=>d.jsx(Pe,{onChange:m.onSpeedrunsChange,array:e,i:t})))})]})]})),[Me.speed]),C=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(O,{children:"Achives (Easy, Normal, Hard, Brutal, Insane, Hardcore):"}),d.jsx(D,{style:{flexFlow:"column wrap",justifyContent:"space-around",border:"1px solid #ffffff40",maxHeight:"200px"},children:Me.bools.map(((e,t)=>e.flags?.length?d.jsx(Fe,{onChange:m.onBoolsChange,array:e.flags,i:t}):null))})]})),[Me.bools]);return d.jsx(he,{bankName:i,authorID:u,onBankNameChange:m.onBankNameChange,onAuthorIdChange:m.onAuthorIdChange,onFileDrop:m.onFileDrop,onDownload:m.onDownloadClick,onCopy:m.onCopyCodeClick,onReset:m.onResetClick,children:d.jsxs(D,{style:{flexDirection:"column"},children:[f,d.jsxs(D,{style:{flexDirection:"row"},children:[d.jsxs(D,{style:{flexDirection:"column"},children:[y,x]}),d.jsxs(D,{style:{flexDirection:"column"},children:[S,C]})]})]})})}));var Le=e.memo(Ke);var Be=new class extends C{setFields(e){this.queue=e?[...e]:[]}updateAt(e,t,n){if(n)return void this.queue[e].update(t);const a=[...this.queue];a[e].update(t),this.queue=a}fromLocalStorage(e){if(!e)return;const t=[];e.forEach(((e,n)=>{t.push(new be(e._current,e._max,e._description))})),this.queue=t}reset(){this.init()}init(){this.queue=[new be(666,1e3,"Waves"),new be(66666666,99e6,"Kills"),new be(1,1e5,"Deaths"),new be(666,5e4,"Games"),new be(39960,1e6,"Minutes")]}};var Ue=new class{constructor(){this.STARCODE_KEY="OnFbXRyxYzPuv7of(v5v7[zdvUiDzXO]gVb9FVI9b>M>l}Gt6L",this.SECTION="23EGWEG234AG4",this.KEY="AWEO322AOIGWE3wqogej23"}generateXML(e){return e.addKey(this.KEY,"STRING",ve.write(Be.queue,this.STARCODE_KEY),this.SECTION),e.updateSignature(),e.getAsString()}parse(e,t){if(e.parse(t),1!=e.sections.size||null==e.sections.get(this.SECTION))return console.error("Wrong bank file!"),null;const n=e.sections.get(this.SECTION).get(this.KEY).value,a=[...Be.queue];return ve.read(n,a,this.STARCODE_KEY),a}};const He=t.observer((t=>{const{accountStore:a,menuStore:r,mapStore:s}=I(),[o,i]=e.useState(t.bankName),[l,u]=e.useState(tt.get($e.ZOMBIE_CITY).authorID),c=tt.get($e.ZOMBIE_CITY).title,h=e.useMemo((()=>new ue(o,l,r.playerID,"1")),[a.current,r.playerID,o,l]),p=()=>{s.setMapData(a.current,c,Be.queue)};e.useEffect((()=>{const e=s.list[a.current]?.[c];e?Be.fromLocalStorage(e):setTimeout(g.onResetClick)}),[a.current]);const g={onBankNameChange:e.useCallback((e=>{i(e)}),[]),onAuthorIdChange:e.useCallback((e=>{u(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{const a=Ue.parse(h,t);a&&(n.flushSync((()=>Be.setFields())),Be.setFields(a))}),[]),onDownloadClick:e.useCallback((()=>{b(Ue.generateXML(h),o+".SC2Bank",!0),r.autoSave||p()}),[h]),onCopyCodeClick:e.useCallback((()=>{v(Ue.generateXML(h),!0),r.autoSave||p()}),[h]),onResetClick:e.useCallback((()=>{i(t.bankName),u(tt.get($e.ZOMBIE_CITY).authorID),n.flushSync((()=>Be.setFields())),Be.reset()}),[]),onFieldChange:e.useCallback(((e,t)=>{Be.updateAt(t,parseInt(e),!0),r.autoSave&&p()}),[])},m=e.useMemo((()=>d.jsx(D,{style:{flexDirection:"column"},alignInputs:!0,children:Be.queue.map(((e,t)=>d.jsx(L,{index:t,type:"number",style:{width:"80px"},label:e.description+":",onChange:g.onFieldChange,min:"0",max:e.max.toString(),value:e.current.toString()})))})),[Be.queue]);return d.jsx(he,{bankName:o,authorID:l,onBankNameChange:g.onBankNameChange,onAuthorIdChange:g.onAuthorIdChange,onFileDrop:g.onFileDrop,onDownload:g.onDownloadClick,onCopy:g.onCopyCodeClick,onReset:g.onResetClick,children:m})}));var Ge=e.memo(He);var We=new class extends C{setFields(e){this.stats=e?.stats?[...e.stats]:[],this.heroes=e?.heroes?[...e.heroes]:[],this.jewels=e?.jewels?[...e.jewels]:[]}addJewel(e=!1){this.jewels=[...this.jewels,{type:1,minerals:5,damage:5,life:5,armor:5,speed:5,unique:0,upgrade:0}]}removeJewel(e){this.jewels=[...this.jewels.filter(((t,n)=>n!=e))]}clearJewels(){this.jewels=[]}selectAllHero(){const e=this.heroes[1].active,t=[...this.heroes];t.forEach(((n,a)=>{t[a]={...n},t[a].active=!e})),this.heroes=[...t]}updateAt(e,t,n,a){if(a){if("stats"==e&&"number"==typeof t)return void(this[e][t].value=n);if("stats"!=e&&"object"==typeof t)return void(this[e][t.i][t.key]=n)}if("stats"==e&&"number"==typeof t){const e=[...this.stats];return e[t].value=n,void(this.stats=e)}if("stats"!=e&&"object"==typeof t){const a=[...this[e]],r={...a[t.i]};if(r[t.key]=n,"jewels"==e&&"type"==t.key){const e=r,{min:t,max:n}=Xe.getJewelRange(e.type);e.minerals=10*g(t,n),e.damage=g(t,n),e.life=g(t,n),e.armor=g(t,n),e.speed=g(t,n)}return a[t.i]=r,void(this[e]=a)}}reset(){this.init()}init(){this.stats=[{type:"number",value:15e8,description:"Total Kills"},{type:"number",value:8,description:"Best Solo"},{type:"number",value:1e3,description:"Jewel Dust"},{type:"number",value:300,description:"Skip Wave At"}],this.heroes=[{active:!0,name:"Sniper",type:1,kills:5e3,level:20,prestige:16},{active:!0,name:"Adept",type:2,kills:5e3,level:20,prestige:16},{active:!1,name:"Zeloat",type:3,kills:5e3,level:20,prestige:16},{active:!1,name:"Archon",type:4,kills:5e3,level:20,prestige:16},{active:!1,name:"Marine",type:5,kills:5e3,level:20,prestige:16},{active:!1,name:"Medic",type:6,kills:5e3,level:20,prestige:16},{active:!1,name:"Probe",type:7,kills:5e3,level:20,prestige:16},{active:!1,name:"Dark Templar",type:8,kills:5e3,level:20,prestige:16}],this.jewels=[{type:12,minerals:1250,damage:125,life:125,armor:125,speed:125,unique:1,upgrade:0},{type:12,minerals:1250,damage:125,life:125,armor:125,speed:125,unique:2,upgrade:0},{type:12,minerals:1250,damage:125,life:125,armor:125,speed:125,unique:3,upgrade:0},{type:12,minerals:1250,damage:125,life:125,armor:125,speed:125,unique:4,upgrade:0},{type:12,minerals:1250,damage:125,life:125,armor:125,speed:125,unique:5,upgrade:0},{type:11,minerals:1250,damage:-5e3,life:125,armor:125,speed:-1e3,unique:0,upgrade:-200},{type:11,minerals:1250,damage:-5e3,life:125,armor:125,speed:-1e3,unique:0,upgrade:-200}]}};var Xe=new class{generateXML(e){e.removeSection("Purchases"),e.removeSection("Primary"),e.removeSection("SoulStat"),e.removeSection("SoulType");const t=We.stats[0].value;e.addKey("Primary","INT",t,"Primary");const n=parseInt(e.info.playerID.substring(7,11));if(e.addKey("Version","FIXED",ae(ne(te(t),n+1)),"Version"),We.stats[1].value>0){const t=We.stats[1].value;e.addKey("BS","INT",t,"Primary");const n=parseInt(e.info.playerID.substring(9,11));e.addKey("BC","FIXED",ae(ne((a=t,r=2,re(Math.pow(a,r))),n+1)),"Primary")}var a,r;const s=We.stats[2].value;e.addKey("Ratio","INT",13*s,"Settings");let o=10*s;e.addKey("skipwavethreshold","INT",We.stats[3].value,"Settings");let i=0,l=0;const u=We.heroes.length;for(let t=0;t<u;t++){const n=We.heroes[t];if(!n.active&&t>0)continue;const a=n.type;e.addKey("H"+a,"FLAG",!0,"Purchases"),e.addKey("H"+a+"K","INT",n.kills,"Primary"),e.addKey("H"+a+"L","INT",n.level,"Primary"),e.addKey("H"+a+"P","INT",n.prestige,"Primary"),l+=a*(a+1),i+=n.kills,i+=n.level-1,i+=n.prestige}e.addKey("Previous","FIXED",ae(ne(te(i),n+2)),"Version");const c=parseInt(e.info.playerID.substring(7,10));e.addKey("Upcoming","FIXED",ae(ne(te(l),c+3.25)),"Version");const d=We.jewels.length;for(let t=0;t<d;t++){const n=We.jewels[t];e.addKey("Soul"+(t+1),"INT",n.type,"SoulType"),e.addKey("Soul"+(t+1)+"Stat1","FIXED",n.minerals,"SoulStat"),e.addKey("Soul"+(t+1)+"Stat2","FIXED",n.damage,"SoulStat"),e.addKey("Soul"+(t+1)+"Stat3","FIXED",n.life,"SoulStat"),e.addKey("Soul"+(t+1)+"Stat4","FIXED",n.armor,"SoulStat"),e.addKey("Soul"+(t+1)+"Stat5","FIXED",n.speed,"SoulStat"),e.addKey("Soul"+(t+1)+"Stat6","FIXED",n.unique,"SoulStat"),e.addKey("Soul"+(t+1)+"Stat7","FIXED",n.upgrade,"SoulStat"),o+=n.minerals+n.damage+n.life+n.armor+n.speed+n.unique+n.upgrade}const h=parseInt(e.info.playerID.substring(8,11)),p=ae(ne(te(o),h+te(o)+1));return e.addKey("Time","FIXED",p,"TimePlayed"),e.sort(),e.updateSignature(),e.getAsString()}parse(e,t){if(e.parse(t),e.sections.size<2||null==e.sections.get("Primary")||null==e.sections.get("Purchases"))return console.error("Wrong bank file!"),null;let n;const a=[{type:"number",value:0,description:"Total Kills"},{type:"number",value:1,description:"Best Solo"},{type:"number",value:0,description:"Jewel Dust"},{type:"number",value:300,description:"Skip Wave At"}];n=e.getKey("Primary","Primary"),n&&(a[0].value=n.value),n=e.getKey("BS","Primary"),n&&(a[1].value=n.value),n=e.getKey("Ratio","Settings"),n&&(a[2].value=n.value/13),n=e.getKey("skipwavethreshold","Settings"),n&&(a[3].value=n.value);const r=[{active:!0,name:"Sniper",type:1,kills:0,level:1,prestige:0},{active:!1,name:"Adept",type:2,kills:0,level:1,prestige:0},{active:!1,name:"Zeloat",type:3,kills:0,level:1,prestige:0},{active:!1,name:"Archon",type:4,kills:0,level:1,prestige:0},{active:!1,name:"Marine",type:5,kills:0,level:1,prestige:0},{active:!1,name:"Medic",type:6,kills:0,level:1,prestige:0},{active:!1,name:"Probe",type:7,kills:0,level:1,prestige:0},{active:!1,name:"Dark Templar",type:8,kills:0,level:1,prestige:0}];for(let t=0;t<9;t++){const a=t+1;n=e.getKey("H"+a,"Purchases"),n&&(r[t].active=!0,n=e.getKey("H"+a+"K","Primary"),n&&(r[t].kills=n.value),n=e.getKey("H"+a+"L","Primary"),n&&(r[t].level=n.value),n=e.getKey("H"+a+"P","Primary"),n&&(r[t].prestige=n.value))}const s=[];for(let t=0;t<100;t++){const a=t+1;if(n=e.getKey("Soul"+a,"SoulType"),!n)continue;const r={type:n.value,minerals:e.getKey("Soul"+a+"Stat1","SoulStat").value,damage:e.getKey("Soul"+a+"Stat2","SoulStat").value,life:e.getKey("Soul"+a+"Stat3","SoulStat").value,armor:e.getKey("Soul"+a+"Stat4","SoulStat").value,speed:e.getKey("Soul"+a+"Stat5","SoulStat").value,unique:e.getKey("Soul"+a+"Stat6","SoulStat").value,upgrade:e.getKey("Soul"+a+"Stat7","SoulStat").value};s.push(r)}return{stats:a,heroes:r,jewels:s}}getJewelTypes(){return[{value:"1",label:"Simple"},{value:"2",label:"Regular"},{value:"3",label:"Advanced"},{value:"4",label:"Brutality"},{value:"5",label:"Insanity"},{value:"6",label:"Nightmare"},{value:"7",label:"Chaos"},{value:"8",label:"Agonizing"},{value:"9",label:"Inferno"},{value:"10",label:"Tormented"},{value:"11",label:"Death"},{value:"12",label:"Unique"}]}getJewelRange(e){switch(e){case 1:return{min:1,max:5};case 2:return{min:5,max:10};case 3:return{min:5,max:20};case 4:return{min:10,max:30};case 5:return{min:15,max:40};case 6:return{min:20,max:50};case 7:return{min:25,max:60};case 8:return{min:30,max:75};case 9:return{min:35,max:90};case 10:return{min:40,max:90};case 11:case 12:return{min:50,max:125}}return null}getUniqueJewelsTypes(){return[{value:"1",label:"Marine buff"},{value:"2",label:"Cooldowns 10%"},{value:"3",label:"Adept buff"},{value:"4",label:"Ghost buff"},{value:"5",label:"Dark Templar buff"}]}getDifficultTypes(){return[{value:"0",label:"None"},{value:"1",label:"Easy"},{value:"2",label:"Normal"},{value:"3",label:"Hard"},{value:"4",label:"Brutal"},{value:"5",label:"Insane"},{value:"6",label:"Nightmare"},{value:"7",label:"Chaotic"},{value:"8",label:"Torture"},{value:"9",label:"Inferno"}]}};var Ye=e.memo((e=>d.jsxs(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px",width:"200px",marginBottom:"10px"},children:[e.index>0?d.jsx(me,{onChange:t=>e.onChange(t,e.index,"active"),value:e.hero.active,label:e.hero.name,tip:"Activate this hero?"}):d.jsx(O,{children:e.hero.name}),d.jsxs(D,{style:{flexDirection:"row"},children:[d.jsx(L,{type:"number",min:"0",max:"1500000000",style:{width:"80px"},tip:"Kills",onChange:t=>e.onChange(t,e.index,"kills"),value:e.hero.kills.toString()}),d.jsx(L,{type:"number",min:"1",max:"50",style:{width:"20px"},tip:"Level",onChange:t=>e.onChange(t,e.index,"level"),value:e.hero.level.toString()}),d.jsx(L,{type:"number",min:"0",max:"16",style:{width:"20px"},tip:"Prestige",onChange:t=>e.onChange(t,e.index,"prestige"),value:e.hero.prestige.toString()})]})]})));var qe=e.memo((e=>{const t=Xe.getJewelTypes(),n=Xe.getUniqueJewelsTypes(),{min:a,max:r}=Xe.getJewelRange(e.jewel.type);return d.jsxs(D,{style:{flexDirection:"row",border:"1px solid #ffffff40",padding:"10px",width:"570px",height:"min-content",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:[d.jsxs(D,{style:{flexDirection:"row"},children:[d.jsx(fe,{style:{width:"100px",margin:"0"},onChange:t=>e.onChange(t,e.index,"type"),selected:e.jewel.type.toString(),children:t}),d.jsx(L,{type:"number",style:{width:"35px"},onChange:t=>e.onChange(t,e.index,"minerals"),value:e.jewel.minerals.toString(),min:(10*a).toString(),max:(10*r).toString(),tip:"Minerals:"+10*a+"-"+10*r}),d.jsx(L,{type:"number",style:{width:"25px"},onChange:t=>e.onChange(t,e.index,"damage"),value:e.jewel.damage.toString(),min:a.toString(),max:r.toString(),tip:"Damage:"+a+"-"+r}),d.jsx(L,{type:"number",style:{width:"25px"},onChange:t=>e.onChange(t,e.index,"life"),value:e.jewel.life.toString(),min:a.toString(),max:r.toString(),tip:"Life:"+a+"-"+r}),d.jsx(L,{type:"number",style:{width:"25px"},onChange:t=>e.onChange(t,e.index,"armor"),value:e.jewel.armor.toString(),min:a.toString(),max:r.toString(),tip:"Armor:"+a+"-"+r}),d.jsx(L,{type:"number",style:{width:"25px"},onChange:t=>e.onChange(t,e.index,"speed"),value:e.jewel.speed.toString(),min:a.toString(),max:r.toString(),tip:"Speed:"+a+"-"+r}),12==e.jewel.type?d.jsx(fe,{style:{width:"160px",margin:"0"},onChange:t=>e.onChange(t,e.index,"unique"),selected:e.jewel.unique.toString(),children:n}):null]}),d.jsx(k,{onClick:()=>e.onRemove(e.index),style:{width:"25px"},children:"×"})]})}));const Ve=t.observer((t=>{const{accountStore:a,menuStore:r,mapStore:s,modalStore:o}=I(),[i,l]=e.useState(t.bankName),[u,c]=e.useState(tt.get($e.ZOMBIE_WORLD_LIBERTY).authorID),h=tt.get($e.ZOMBIE_WORLD_LIBERTY).title,p=e.useMemo((()=>new ue(i,u,r.playerID,"1")),[a.current,r.playerID,i,u]),g=()=>{s.setMapData(a.current,h,{stats:We.stats,heroes:We.heroes,jewels:We.jewels})};e.useEffect((()=>{const e=s.list[a.current]?.[h];e?(n.flushSync((()=>We.setFields())),setTimeout((()=>We.setFields(e)))):setTimeout(m.onResetClick)}),[a.current]);const m={onBankNameChange:e.useCallback((e=>{l(e)}),[]),onAuthorIdChange:e.useCallback((e=>{c(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{const a=Xe.parse(p,t);a&&(n.flushSync((()=>We.setFields())),We.setFields(a))}),[]),onDownloadClick:e.useCallback((()=>{4==r.playerID.split("-").length?(b(Xe.generateXML(p),i+".SC2Bank",!0),r.autoSave||g()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onCopyCodeClick:e.useCallback((()=>{4==r.playerID.split("-").length?(v(Xe.generateXML(p),!0),r.autoSave||g()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onResetClick:e.useCallback((()=>{l(t.bankName),c(tt.get($e.ZOMBIE_WORLD_LIBERTY).authorID),n.flushSync((()=>We.setFields())),We.reset()}),[]),onFieldChange:e.useCallback(((e,t)=>{We.updateAt("stats",t,parseInt(e),!0),r.autoSave&&g()}),[]),onHeroChange:e.useCallback(((e,t,n)=>{const a="active"!=n;We.updateAt("heroes",{i:t,key:n},"active"==n?e:parseInt(e),a),r.autoSave&&g()}),[]),onAllHeroSelect:e.useCallback((()=>{We.selectAllHero()}),[]),onJewelAdd:e.useCallback((()=>{We.addJewel(),r.autoSave&&g()}),[]),onJewelsClear:e.useCallback((()=>{We.clearJewels(),r.autoSave&&g()}),[]),onJewelRemove:e.useCallback((e=>{We.removeJewel(e),r.autoSave&&g()}),[]),onJewelChange:e.useCallback(((e,t,n)=>{We.updateAt("jewels",{i:t,key:n},parseInt(e),!1),r.autoSave&&g()}),[])},f=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsx(O,{style:{paddingTop:"5px"},children:"Stats:"}),d.jsx(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px",width:"230px",height:"145px"},alignInputs:!0,children:We.stats.map(((e,t)=>1==t?d.jsx(fe,{label:"Best Solo:",onChange:m.onFieldChange,selected:We.stats[1].value.toString(),index:t,style:{width:"100px"},children:Xe.getDifficultTypes()}):d.jsx(L,{label:e.description+":",index:t,type:"number",style:0==t?{width:"80px"}:{width:"50px"},onChange:m.onFieldChange,min:t<3?"0":"100",max:0==t?"1500000000":2==t?"500000":"300",value:e.value.toString()})))})]})),[We.stats]),y=e.useMemo((()=>d.jsxs(d.Fragment,{children:[d.jsxs(D,{style:{flexDirection:"row",alignItems:"center",paddingTop:"20px"},children:[d.jsx(O,{children:"Heroes:"}),d.jsx(D,{style:{flexDirection:"row",justifyContent:"flex-end"},children:d.jsx(k,{onClick:m.onAllHeroSelect,children:"Select all"})})]}),d.jsx(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px",width:"230px",height:"300px",overflowY:"auto"},children:We.heroes.map(((e,t)=>d.jsx(Ye,{hero:e,onChange:m.onHeroChange,index:t})))})]})),[We.heroes]),x=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"column"},children:[d.jsxs(D,{style:{flexDirection:"row",alignItems:"center"},children:[d.jsx(O,{style:{paddingTop:"5px"},children:"Jewels:"}),d.jsxs(D,{style:{flexDirection:"row",justifyContent:"flex-end"},children:[d.jsx(k,{onClick:m.onJewelAdd,children:"Add"}),d.jsx(k,{onClick:m.onJewelsClear,children:"Clear"})]})]}),d.jsx(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px",width:"600px",height:"508px",overflowY:"auto"},children:We.jewels.map(((e,t)=>d.jsx(qe,{jewel:e,index:t,onChange:m.onJewelChange,onRemove:m.onJewelRemove})))})]})),[We.jewels]);return d.jsx(he,{bankName:i,authorID:u,onBankNameChange:m.onBankNameChange,onAuthorIdChange:m.onAuthorIdChange,onFileDrop:m.onFileDrop,onDownload:m.onDownloadClick,onCopy:m.onCopyCodeClick,onReset:m.onResetClick,children:d.jsxs(d.Fragment,{children:[d.jsx(A,{children:"Note: The map is still in beta. Some combinations can be bugged!"}),d.jsxs(D,{style:{flexDirection:"row"},children:[d.jsxs(D,{style:{flexDirection:"column"},children:[f,y]}),x]})]})})}));var ze=e.memo(Ve);var Je=new class extends C{setFields(e){this.params=e?[...e]:[]}updateAt(e,t,n){if(n)return void(this.params[e].value=t);const a=[...this.params];a[e].value=t,this.params=a}reset(){this.init()}init(){this.params=[{type:"number",value:16999,description:"Waves"},{type:"number",value:45e3,description:"Talent points"},{type:"boolean",value:!0,description:"Fill all talents"},{type:"boolean",value:!0,description:"Get all challenges"},{type:"boolean",value:!0,description:"Upgrade all units"},{type:"number",value:15e8,description:"Assassin"},{type:"number",value:15e8,description:"Builder"},{type:"number",value:15e8,description:"Singletarget"},{type:"number",value:15e8,description:"Specialist"},{type:"number",value:15e8,description:"Splash"},{type:"number",value:15e8,description:"Support"},{type:"number",value:15e8,description:"Tank"}]}};var Ze=new class{generateXML(e){if(e.addKey("wave","INT",Je.params[0].value,"number"),e.addKey("assassinkills","INT",Je.params[5].value,"jjj"),e.addKey("assassinkills","INT",Je.params[5].value,"jj"),e.addKey("builderkills","INT",Je.params[6].value,"jjj"),e.addKey("builderkills","INT",Je.params[6].value,"jj"),e.addKey("singletargetkills","INT",Je.params[7].value,"jjj"),e.addKey("singletargetkills","INT",Je.params[7].value,"jj"),e.addKey("specialistkills","INT",Je.params[8].value,"jjj"),e.addKey("specialistkills","INT",Je.params[8].value,"jj"),e.addKey("splashkills","INT",Je.params[9].value,"jjj"),e.addKey("splashkills","INT",Je.params[9].value,"jj"),e.addKey("supportkills","INT",Je.params[10].value,"jjj"),e.addKey("supportkills","INT",Je.params[10].value,"jj"),e.addKey("tankkills","INT",Je.params[11].value,"jjj"),e.addKey("tankkills","INT",Je.params[11].value,"jj"),Je.params[4].value){const t=0;e.addKey("adeptstage","INT",4,"j"),e.addKey("archonstage","INT",9,"j"),e.addKey("dtstage","INT",t,"j"),e.addKey("dynomito","INT",9,"j"),e.addKey("elecstage","INT",t,"j"),e.addKey("goliathstage","INT",10,"j"),e.addKey("highstage","INT",t,"j"),e.addKey("hotshotstage","INT",3,"j"),e.addKey("hybridstage","INT",9,"j"),e.addKey("immostage","INT",t,"j"),e.addKey("marinestage","INT",9,"j"),e.addKey("medicstage","INT",9,"j"),e.addKey("paragon","INT",t,"j"),e.addKey("paragond","INT",t,"j"),e.addKey("metalmans","INT",9,"j"),e.addKey("reaperstage","INT",9,"j"),e.addKey("scvstage","INT",9,"j"),e.addKey("siegestage","INT",t,"j"),e.addKey("sniperstage","INT",9,"j"),e.addKey("specstage","INT",t,"j"),e.addKey("stalkerstage","INT",9,"j"),e.addKey("tempstage","INT",t,"j"),e.addKey("thorstage","INT",t,"j"),e.addKey("vultures","INT",9,"j"),e.addKey("KillReducerForBounty","FLAG",!0,"j"),e.addKey("unlockhero","FLAG",!0,"j"),e.addKey("UnlockHydralisk2","FLAG",!0,"j")}else e.removeSection("j");if(Je.params[3].value){const t=100;e.addKey("GCLInfantry","INT",t,"Challenges"),e.addKey("GCLTeamGame","INT",t,"Challenges"),e.addKey("GCLConstructor","INT",t,"Challenges"),e.addKey("GCLShieldProblems","INT",t,"Challenges"),e.addKey("GCLNext2Ded","INT",t,"Challenges"),e.addKey("GCLWarpSpeed","INT",t,"Challenges"),e.addKey("GCLTorture","INT",t,"Challenges"),e.addKey("CLEvasive","FLAG",!0,"Challenges")}else e.removeSection("Challenges");const t=Je.params[1].value;if(e.addKey("PlayerID","INT",5*t,"PlayerIDNumber"),Je.params[2].value){this.setTPKey("DamagePoints",100,t,e),this.setTPKey("MoveSpeedPoints",10,t,e),this.setTPKey("LifePoints",100,t,e),this.setTPKey("LifeRegenPoints",100,t,e),this.setTPKey("LifeArmorBonusPoints",10,t,e),this.setTPKey("LifeArmorMultiplyPoints",10,t,e),this.setTPKey("ShieldPoints",100,t,e),this.setTPKey("ShieldRegenerationPoints",100,t,e),this.setTPKey("ShieldArmorBonusPoints",10,t,e),this.setTPKey("ShieldArmorMultiplyPoints",10,t,e),this.setTPKey("EnergyPoints",10,t,e),this.setTPKey("EnergyRegenPoints",10,t,e),this.setTPKey("CooldownPoints",25,t,e),this.setTPKey("BuildPoints",25,t,e),this.setTPKey("DamageReductionPoints",10,t,e),this.setTPKey("MineralStartPoints",5e3,t,e),this.setTPKey("VespeneStartPoints",500,t,e),this.setTPKey("RespawnSpeedPoints",20,t,e),this.setTPKey("ExpPoints",100,t,e),this.setTPKey("MasteryPoints",15,t,e);const n=10;e.addKey("Plays","INT",n*(505-(16+t)),"TP")}else e.removeSection("TP");return e.addKey("InfoNumber","INT",t*(9999-(16+t)),"PlayerIDNumber"),e.sort(),e.updateSignature(),e.getAsString()}parse(e,t){return e.parse(t),e.sections.size<4||null==e.sections.get("jjj")||null==e.sections.get("jj")||null==e.sections.get("TP")||null==e.sections.get("PlayerIDNumber")?(console.error("Wrong bank file!"),null):[{type:"number",value:parseInt(e.getKey("wave","number").value),description:"Waves"},{type:"number",value:parseInt(e.getKey("PlayerID","PlayerIDNumber").value)/5,description:"Talent points"},{type:"boolean",value:Je.params[2].value,description:"Fill all talents"},{type:"boolean",value:Je.params[3].value,description:"Get all challanges"},{type:"boolean",value:Je.params[4].value,description:"Upgrade all units"},{type:"number",value:parseInt(e.getKey("assassinkills","jjj").value),description:"Assassin kills"},{type:"number",value:parseInt(e.getKey("builderkills","jjj").value),description:"Builder kills"},{type:"number",value:parseInt(e.getKey("singletargetkills","jjj").value),description:"Singletarget kills"},{type:"number",value:parseInt(e.getKey("specialistkills","jjj").value),description:"Specialist kills"},{type:"number",value:parseInt(e.getKey("splashkills","jjj").value),description:"Splash kills"},{type:"number",value:parseInt(e.getKey("supportkills","jjj").value),description:"Support kills"},{type:"number",value:parseInt(e.getKey("tankkills","jjj").value),description:"Tank kills"}]}setTPKey(e,t,n,a){a.addKey(e,"INT",t*(999-(16+n)),"TP")}};const Qe=t.observer((t=>{const{accountStore:a,menuStore:r,mapStore:s,modalStore:o}=I(),[i,l]=e.useState(t.bankName),[u,c]=e.useState(tt.get($e.ZOMBIE_WORLD_UNITY).authorID),h=tt.get($e.ZOMBIE_WORLD_UNITY).title,p=e.useMemo((()=>new ue(i,u,r.playerID,"1")),[a.current,r.playerID,i,u]),g=()=>{s.setMapData(a.current,h,Je.params)};e.useEffect((()=>{const e=s.list[a.current]?.[h];e?(n.flushSync((()=>Je.setFields())),setTimeout((()=>Je.setFields(e)))):setTimeout(m.onResetClick)}),[a.current]);const m={onBankNameChange:e.useCallback((e=>{l(e)}),[]),onAuthorIdChange:e.useCallback((e=>{c(e)}),[]),onFileDrop:e.useCallback(((e,t)=>{const a=Ze.parse(p,t);a&&(n.flushSync((()=>Je.setFields())),Je.setFields(a))}),[]),onDownloadClick:e.useCallback((()=>{4==r.playerID.split("-").length?(b(Ze.generateXML(p),i+".SC2Bank",!0),r.autoSave||g()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onCopyCodeClick:e.useCallback((()=>{4==r.playerID.split("-").length?(v(Ze.generateXML(p),!0),r.autoSave||g()):o.setModal("WARN","This map requires a player id to generate valid bank! Use Help for details.")}),[p]),onResetClick:e.useCallback((()=>{l(t.bankName),c(tt.get($e.ZOMBIE_WORLD_UNITY).authorID),n.flushSync((()=>Je.setFields())),Je.reset()}),[]),onFieldChange:e.useCallback(((e,t)=>{Je.updateAt(t,"number"==Je.params[t].type?parseInt(e):e,!0),r.autoSave&&g()}),[])},f=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row"},children:[d.jsxs(D,{style:{flexDirection:"column"},children:[d.jsx(O,{children:"Stats:"}),d.jsx(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px"},alignInputs:!0,children:Je.params.map(((e,t)=>e.hidden?null:t<2?d.jsx(L,{label:e.description+":",index:t,type:"number",min:"0",style:{width:"40px"},onChange:m.onFieldChange,max:0==t?"16999":"45000",value:e.value.toString()}):null))}),d.jsx(O,{style:{paddingTop:"24px"},children:"Options:"}),d.jsx(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px"},alignInputs:!0,children:Je.params.map(((e,t)=>e.hidden?null:t>1&&t<5?d.jsx(me,{label:e.description+":",index:t,onChange:m.onFieldChange,value:e.value}):null))})]}),d.jsxs(D,{style:{flexDirection:"column"},children:[d.jsx(O,{children:"Kills:"}),d.jsx(D,{style:{flexDirection:"column",border:"1px solid #ffffff40",padding:"10px"},alignInputs:!0,children:Je.params.map(((e,t)=>e.hidden?null:t>4?d.jsx(L,{label:e.description+":",index:t,type:"number",min:"0",style:{width:"80px"},onChange:m.onFieldChange,max:"1500000000",value:e.value.toString()}):null))})]})]})),[Je.params]);return d.jsx(he,{bankName:i,authorID:u,onBankNameChange:m.onBankNameChange,onAuthorIdChange:m.onAuthorIdChange,onFileDrop:m.onFileDrop,onDownload:m.onDownloadClick,onCopy:m.onCopyCodeClick,onReset:m.onResetClick,children:f})}));var $e,et=e.memo(Qe);!function(e){e[e.NONE=0]="NONE",e[e.ANY_SIMPLE=1]="ANY_SIMPLE",e[e.RUNLING_RUN_4=2]="RUNLING_RUN_4",e[e.RUNLING_RUN_8=3]="RUNLING_RUN_8",e[e.SWARM_SCPECIAL_FORCES=4]="SWARM_SCPECIAL_FORCES",e[e.ZOMBIE_CITY=5]="ZOMBIE_CITY",e[e.ZOMBIE_WORLD_LIBERTY=6]="ZOMBIE_WORLD_LIBERTY",e[e.ZOMBIE_WORLD_UNITY=7]="ZOMBIE_WORLD_UNITY"}($e||($e={}));const tt=new Map([[$e.NONE,{title:"None",authorID:"",forms:[d.jsx(A,{style:{display:"block",fontSize:"60px",margin:"40px 60px",fontWeight:"bold",color:"#CCCCFF77"},children:"Select map"})]}],[$e.ANY_SIMPLE,{title:"Any Simple Map",authorID:"",forms:[d.jsx(ge,{})]}],[$e.RUNLING_RUN_4,{title:"Runling Run 4",authorID:"2-S2-1-3564862",forms:[d.jsx(we,{bankName:"RunlingRun004"})]}],[$e.RUNLING_RUN_8,{title:"Runling Run 8",authorID:"2-S2-1-5734972",forms:[d.jsx(De,{bankName:"ILovePie"}),d.jsx(Te,{bankName:"Prestige"})]}],[$e.SWARM_SCPECIAL_FORCES,{title:"Swarm Special Forces",authorID:"2-S2-1-1066242",forms:[d.jsx(Le,{bankName:"SwarmSpecialForces"})]}],[$e.ZOMBIE_CITY,{title:"Zombie City",authorID:"2-S2-1-1687296",forms:[d.jsx(Ge,{bankName:"AMMMAAKDAS39349"})]}],[$e.ZOMBIE_WORLD_LIBERTY,{title:"Zombie World Liberty",authorID:"2-S2-1-7593740",forms:[d.jsx(ze,{bankName:"DirectStrike"})]}],[$e.ZOMBIE_WORLD_UNITY,{title:"Zombie World Unity",authorID:"2-S2-1-7593740",forms:[d.jsx(et,{bankName:"zombieworldu"})]}]]),nt=t.observer((t=>{const{menuStore:n}=I(),a=new Audio,r="mousedown";let s=0;a.volume=0,n.sounds&&(a.autoplay=!0);const o=function(){const e=["Motherchip & Malmen - A Thousand Sunflowers.mp3","ko0x - Galaxy Guppy.mp3","DDRKirby(ISQ) - Underwater Aquarium.mp3","DDRKirby(ISQ) - Starlight Festival.mp3","Sugar flow.mp3","Xemogasa - sapphire eyes.mp3","Toni Leys - Through A Cardboard World.mp3","laamaa - nuri brut.mp3","DDRKirby(ISQ) - Gentle Fluttering Spirit.mp3","Funky Fish - Shadow of my Angel.mp3","Vince Kaichan - the Zubmarine Zone.mp3","DDRKirby(ISQ) - Two Sketches Mix.mp3","Kenet & Rez - Unreal Superhero 3.mp3","DDRKirby(ISQ) - Take to the Skies.mp3"];let t=g(0,e.length-1);return()=>{a.src="assets/sound/"+e[t],a.title=e[t],t=t<e.length-1?++t:0}}(),i=()=>{a.volume>0||s||(s=window.setInterval((()=>{a.volume+=.05,a.volume>.8&&window.clearInterval(s)}),500))},l=()=>{setTimeout((()=>{n.sounds?(a.play(),i()):a.pause()}),500),window.removeEventListener(r,l)},u=()=>{R("Audio","Track Ended",a.title),o(),a.play()},c={onButtonClick:e.useCallback((()=>{n.sounds?(a.pause(),R("Audio","Sound OFF",a.title)):(a.play(),i(),R("Audio","Sound ON",a.title)),n.setSounds(!n.sounds)}),[])};return e.useEffect((()=>(a.addEventListener("ended",u),window.addEventListener(r,l),o(),()=>{a.removeEventListener("ended",u),window.removeEventListener(r,l),window.clearInterval(s)})),[]),d.jsx(D,{style:{width:"30px",height:"23px",padding:"0"},children:d.jsx(k,{onClick:c.onButtonClick,style:{width:"30px",color:n.sounds?"#FFFFFF":"#FF0000"},children:"♫♪"})})}));var at=e.memo(nt);const rt=t.observer((t=>{const{accountStore:n,mapStore:a,menuStore:r,modalStore:s}=I(),o={onPlayerIdChange:e.useCallback((e=>{r.setPlayerID(e)}),[]),onAccountClick:e.useCallback((()=>{s.setModal("ACCOUNTS")}),[]),onHelpClick:e.useCallback((()=>{s.setModal("HELP"),R("Menu","Help")}),[]),onMapSelect:e.useCallback((e=>{r.setSelectedMap(parseInt(e)),R("Menu","Select Map",tt.get(parseInt(e)).title)}),[]),onAutoSaveChange:e.useCallback((e=>{r.setAutoSave(e),R("Menu","Autosave Changed")}),[]),onFullReset:e.useCallback((()=>{s.setModal("CONFIRM","Are you sure you want to delete all accounts and saved banks from here?",[()=>{n.reset(),a.reset(),r.reset(),s.reset()}]),R("Menu","Full Reset")}),[])},i=e.useMemo((()=>{const e=[];return tt.forEach(((t,n)=>{e.push({value:n.toString(),label:t.title})})),e}),[r.selectedMap]),[l,u]=e.useMemo((()=>[{width:"80px"},{width:"50px"}]),[]),c=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row",alignItems:"center"},children:[d.jsx("img",{src:"assets/icons/favicon-32x32.png",width:"30",height:"30"}),d.jsx(O,{style:{fontSize:"20px"},children:"Bank Generator"})]})),[]),h=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row",justifyContent:"space-between"},children:[c,d.jsxs(D,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:[d.jsx(L,{label:"Player id:",placeholder:"X-SX-X-XXXXXXX",onChange:o.onPlayerIdChange,tip:"Player ID from bank's path",value:r.playerID}),d.jsx(k,{style:l,onClick:o.onAccountClick,children:"Accounts"}),d.jsx(k,{style:u,onClick:o.onHelpClick,children:"Help"}),d.jsx(at,{})]})]})),[r.playerID]),p=e.useMemo((()=>d.jsx(P,{style:{margin:"10px 0 0 0"}})),[]),g=e.useMemo((()=>d.jsxs(D,{style:{flexDirection:"row",justifyContent:"flex-end"},children:[d.jsx(fe,{onChange:o.onMapSelect,label:"Select map:",selected:r.selectedMap.toString(),children:i}),d.jsx(me,{label:"Auto Save",onChange:o.onAutoSaveChange,value:r.autoSave}),d.jsx(k,{onClick:o.onFullReset,children:"Clear Cache"})]})),[r.selectedMap,r.autoSave]);return d.jsx(F,{children:d.jsx(D,{style:{overflow:"auto"},children:d.jsxs(D,{style:{flexDirection:"column",padding:"10px"},children:[h,p,g]})})})}));var st=e.memo(rt);const ot=t.observer((t=>{const{modalStore:n}=I(),a={onCloseClick:e.useCallback((()=>{n.setModal("NONE")}),[])},r=n.data;return d.jsxs(K,{label:"Updates",onClose:a.onCloseClick,minWidth:800,maxWidth:800,maxHeight:400,children:[d.jsxs(A,{style:{textAlign:"center",marginTop:"20px",marginRight:"20px",marginBottom:"20px"},children:[n.message,d.jsx("br",{})]}),d.jsx(D,{style:{flexDirection:"column"},children:r.map((e=>d.jsxs(D,{style:{flexDirection:"column",width:"780px",minWidth:"780px",height:"auto",marginBottom:"20px"},children:[d.jsx(A,{style:{textAlign:"left",fontSize:"20px",textDecoration:"underline"},children:e.version}),d.jsx(A,{style:{textAlign:"left",fontSize:"14px"},children:e.description})]})))})]})}));var it=e.memo(ot);const lt=t.observer((t=>{const{modalStore:n}=I(),a={onCloseClick:e.useCallback((()=>{n.setModal("NONE")}),[])};return d.jsx(K,{label:"Warning",onClose:a.onCloseClick,children:d.jsx(A,{style:{textAlign:"center",marginTop:"20px"},children:n.message})})}));var ut=e.memo(lt);const ct=t.observer((t=>{const{menuStore:n}=I(),a=e.useMemo((()=>{const e=tt.get(n.selectedMap);return e?.forms?e.forms.map((e=>d.jsx(F,{border:!0,style:{minWidth:"max-content",minHeight:"max-content"},children:e}))):[]}),[n.selectedMap]);return d.jsx(D,{style:{overflow:"auto"},children:d.jsx(D,{style:{flexFlow:"row wrap",alignItems:"center",justifyContent:"space-around"},children:a})})}));var dt=e.memo(ct);const ht=t.observer((()=>{const{modalStore:t}=I();return e.useEffect((()=>{var e;"127.0.0.1"!=location.hostname||e?M.initialize("G-F9Y8FZ0KFE",{gtagOptions:{cookie_flags:"max-age=7200;Secure=true;SameSite=none"},gaOptions:{cookieDomain:"none"}}):console.log("Google analytics is disabled on this host")}),[]),d.jsxs("div",{className:"App",children:[d.jsx(st,{}),d.jsx(dt,{}),d.jsx(V,{}),t.current==x.HELP&&d.jsx(Y,{}),t.current==x.WARN&&d.jsx(ut,{}),t.current==x.ACCOUNTS&&d.jsx(H,{}),t.current==x.CONFIRM&&d.jsx(W,{}),t.current==x.UPDATES&&d.jsx(it,{})]})}));c(document.getElementById("root")).render(d.jsx(e.StrictMode,{children:d.jsx(S,{type:"random",children:d.jsx((({children:e})=>{const n=t.useLocalObservable((()=>w));return d.jsx(j.Provider,{value:n,children:e})}),{children:d.jsx(ht,{})})})}))}(React,mobxReactLite,ReactDOM,saveAs,mobx,MaterialUI);
